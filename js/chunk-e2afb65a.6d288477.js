(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e2afb65a"],{"04a7":function(t,n,a){"use strict";var e=a("23f2"),i=a.n(e);i.a},"23f2":function(t,n,a){},"4ffd":function(t,n,a){"use strict";var e=a("9b29"),i=a.n(e);i.a},5377:function(t,n,a){var e=a("83ab"),i=a("9bf2"),r=a("ad6d"),o=a("9f7f").UNSUPPORTED_Y;e&&("g"!=/./g.flags||o)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:r})},"53ca":function(t,n,a){"use strict";a.d(n,"a",(function(){return e}));a("a4d3"),a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}},6123:function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"dj-detail"},[a("BreakHeader",{attrs:{title:"电台",fixed:""}}),a("div",{ref:"cover",staticClass:"dj-detail-cover",class:{active:t.flags.cover}},[t.detail.picUrl?a("img",{attrs:{src:t.detail.picUrl+"?param=700y700",alt:""}}):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.flags.contain,expression:"flags.contain"}],staticClass:"_info"},[a("div",[a("b",[t._v(t._s(t.detail.name))]),a("p",[t._v("共 "+t._s(t.detail.programCount)+" 期")])])])]),a("transition",{attrs:{"enter-active-class":"animated fadeIn"}},[t.flags.contain?a("van-tabs",{staticClass:"dj-detail-contain",attrs:{swipeable:"",animated:"",background:"rgba(0,0,0,0)",sticky:"","offset-top":48},model:{value:t.nav.active,callback:function(n){t.$set(t.nav,"active",n)},expression:"nav.active"}},[a("van-tab",{attrs:{title:t.nav.list[0].text}},[t.flags.load?a("DjAbout",{attrs:{detail:t.detail}}):t._e()],1),a("van-tab",{attrs:{title:t.nav.list[1].text}},[a("DjShow")],1),a("van-tab",{attrs:{title:t.nav.list[2].text}},[a("DjSimilar",{attrs:{type:t.detail.categoryId}})],1)],1):t._e()],1)],1)},i=[],r=(a("99af"),a("5377"),a("53ca")),o=a("cb83"),c=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"dj-detail-adout"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.flags.load,expression:"!flags.load"}]},[a("div",{staticClass:"_anchor"},[a("p",[t._v("主播")]),a("div",{staticClass:"_anchor-info"},[a("img",{attrs:{src:t.creator.avatarUrl+t.squareImgSize,alt:""},on:{click:function(n){return t.toMainPage("/home/userdetail",t.creator.userId)}}}),a("div",[a("p",[t._v(t._s(t.creator.nickname))]),a("span",[t._v("著名音乐节目主持人")])]),a("input",{attrs:{type:"button",value:"关注"}})])]),a("div",{staticClass:"_info"},[a("p",[t._v("电台内容简介")]),a("div",{staticClass:"_info-cate"},[t._v(" 分类： "),a("span",[t._v(t._s(t.detail.category))])]),a("div",{staticClass:"_info-desc"},[t._v(t._s(t.detail.desc))])]),t.hasHotComment?a("div",{staticClass:"_comment"},[a("p",[t._v("精彩评论")]),t._m(0)]):t._e()])])},s=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ul",{staticClass:"_comment-item"},[a("li")])}],u=(a("a7f5"),{name:"djdetailadout",props:{detail:Object},data:function(){return{hotComment:[],flags:{load:!1}}},computed:{pageId:function(){return this.$route.query.id},creator:function(){return this.detail.dj},hasHotComment:function(){return this.hotComment.length>0}},mounted:function(){this.mainRequset()},methods:{mainRequset:function(){var t=this;Object(o["b"])(this.pageId).then((function(n){t.hotComment=n.data.hotComments,t.flags.load=!0}))}}}),d=u,l=(a("6ef6"),a("2877")),f=Object(l["a"])(d,c,s,!1,null,"bb22179c",null),v=f.exports,m=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"dj-detail-show"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.loadFlag,expression:"!loadFlag"}]},[a("div",{staticClass:"_header"},[a("b",[t._v("共"+t._s(t.programs.length)+"期")]),a("span",{staticClass:"_header-sort",on:{click:function(n){t.sort.reverse=!t.sort.reverse}}},[a("i",{staticClass:"van-icon van-icon-down",class:{"sort-active":!t.sort.reverse}}),t._v("排序 ")])]),a("div",{staticClass:"_contain"},t._l(t.curPrograms,(function(n){return a("div",{key:n.id,staticClass:"_contain-item"},[a("label",[t._v(t._s(n.index))]),a("div",{staticClass:"_contain-item-info"},[a("p",{staticClass:"text-truncate"},[t._v(t._s(n.name))]),a("div",[a("a",[t._v(t._s(t._f("toMonDay")(n.createTime)))]),t._m(0,!0),a("a",[a("i",{staticClass:"van-icon van-icon-clock-o"}),t._v(" "+t._s(t._f("toMinute")(n.duration))+"分钟+ ")])])]),a("span")])})),0)])])},p=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("a",[a("i",{staticClass:"van-icon van-icon-play-circle-o"}),t._v(" 38.1w ")])}],h=(a("d81d"),a("d3b7"),a("25f0"),a("4d90"),a("5530")),g={name:"djdetailshow",data:function(){return{programs:[],loadFlag:!1,sort:{reverse:!0}}},computed:{pageId:function(){return this.$route.query.id},curPrograms:function(){var t=this.programs;return this.sort.reverse,t.reverse()}},filters:{toMinute:function(t){return Math.floor(t/1e3/60<<0)},toMonDay:function(t){var n=new Date(t),a=(n.getMonth()+1).toString().padStart(2,0),e=n.getDate().toString().padStart(2,0);return"".concat(a,"-").concat(e)}},mounted:function(){this.mainRequset()},methods:{mainRequset:function(){var t=this;Object(o["d"])(this.pageId).then((function(n){t.programs=n.data.programs.map((function(t,n){return Object(h["a"])(Object(h["a"])({},t),{},{index:n+1})})),t.loadFlag=!0}))}}},b=g,_=(a("ba10"),Object(l["a"])(b,m,p,!1,null,"50bdf838",null)),j=_.exports,y=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"dj-detail-similar"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.loadFlag,expression:"!loadFlag"}]},t._l(t.similar,(function(n){return a("div",{key:n.id,staticClass:"_item"},[a("div",{staticClass:"_cover"},[a("img",{directives:[{name:"img-loader",rawName:"v-img-loader"}],attrs:{src:n.picUrl+t.squareImgSize,alt:""}})]),a("div",{staticClass:"_info"},[a("span",{staticClass:"text-truncate"},[t._v(t._s(n.name))]),a("p",{staticClass:"text-truncate"},[t._v(t._s(n.desc))]),a("p",[t._v("节目："+t._s(n.programCount)+"，订阅：34.1w")])]),a("input",{attrs:{type:"button",value:"订阅"}})])})),0)])},C=[],w=(a("a9e3"),{name:"djdetailsimilar",props:{type:Number},data:function(){return{similar:[],loadFlag:!1}},computed:{pageId:function(){return this.$route.query.id}},mounted:function(){this.mainRequset()},methods:{mainRequset:function(){var t=this;Object(o["f"])(this.type).then((function(n){t.similar=n.data.djRadios,t.loadFlag=!0}))}}}),x=w,O=(a("04a7"),Object(l["a"])(x,y,C,!1,null,"7b3939d4",null)),S=O.exports,k={name:"djdetail",components:{DjAbout:v,DjShow:j,DjSimilar:S},data:function(){return{nav:{list:[{text:"详情",comp:"DjAbout"},{text:"节目",comp:"DjShow"},{text:"相似",comp:"DjSimilar"}],active:0},detail:{},flags:{contain:!1,load:!1,cover:!1}}},computed:{pageId:function(){return this.$route.query.id},enterCover:function(){return this.$route.query.cover},hasPos:function(){return"object"===Object(r["a"])(this.enterCover)}},mounted:function(){this.mainRequset()},methods:{mainRequset:function(){var t=this;Object(o["c"])(this.pageId).then((function(n){t.detail=n.data.data,t.flags.load=!0,t.anmCounter(),setTimeout((function(){return t.flags.contain=!0}),400),setTimeout((function(){return t.flags.cover=!0}),2400)}))},anmCounter:function(){if(this.hasPos){var t=this.$refs.cover;this.anmHandler(t,this.enterCover,t.getBoundingClientRect())}},anmHandler:function(t,n,a){var e=n.x-a.x,i=n.y-a.y,r=[{transform:"translate3d(".concat(e,"px, ").concat(i,"px,0)"),width:"".concat(n.width,"px"),height:"".concat(n.height,"px")},{transform:"translate3d(0,0,0)",width:"".concat(a.width,"px"),height:"".concat(a.height,"px")}],o={duration:400};t.animate(r,o)}}},q=k,D=(a("4ffd"),Object(l["a"])(q,e,i,!1,null,"1faa089a",null));n["default"]=D.exports},"6ef6":function(t,n,a){"use strict";var e=a("bc68"),i=a.n(e);i.a},8856:function(t,n,a){},"9b29":function(t,n,a){},a7f5:function(t,n,a){"use strict";a.d(n,"c",(function(){return r})),a.d(n,"g",(function(){return o})),a.d(n,"f",(function(){return c})),a.d(n,"d",(function(){return s})),a.d(n,"a",(function(){return u})),a.d(n,"b",(function(){return d})),a.d(n,"e",(function(){return l})),a.d(n,"h",(function(){return f}));a("99af"),a("c740"),a("4160"),a("d81d"),a("d3b7"),a("25f0"),a("159b");var e=a("f344"),i=a("d73f");function r(){return Object(e["a"])("banner?type=1")}function o(){return Object(e["a"])("personalized/djprogram")}function c(t){return Object(e["a"])("top/mv?limit=".concat(t))}function s(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(e["a"])("comment/hot?id=".concat(t,"&type=").concat(n,"&limit=").concat(a,"&offset=").concat(i))}function u(){return Object(e["a"])("search/default")}function d(){return Object(e["a"])("search/hot/detail")}function l(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return 1===n?new Promise((function(o,c){Object(e["a"])("search?keywords=".concat(t,"&limit=").concat(a,"&type=").concat(n,"&offset=").concat(r)).then((function(t){var n=t.data.result.songs,a=t.data.result.songCount,e=n.map((function(t){return t.id}));Object(i["e"])(e.toString()).then((function(t){t.data.data.forEach((function(t){var a=n.findIndex((function(n){return n.id===t.id}));n[a].url=t.url}))}));var r={songs:n,songCount:a};o(r)})).catch((function(t){return c(t)}))})):Object(e["a"])("search?keywords=".concat(t,"&limit=").concat(a,"&type=").concat(n,"&offset=").concat(r))}function f(t){return Object(e["a"])("search/suggest?keywords= ".concat(t,"&type=mobile"))}},ba10:function(t,n,a){"use strict";var e=a("8856"),i=a.n(e);i.a},bc68:function(t,n,a){},cb83:function(t,n,a){"use strict";a.d(n,"a",(function(){return i})),a.d(n,"f",(function(){return r})),a.d(n,"e",(function(){return o})),a.d(n,"d",(function(){return c})),a.d(n,"c",(function(){return s})),a.d(n,"b",(function(){return u}));a("99af");var e=a("f344");function i(){return Object(e["a"])("dj/banner")}function r(t){return Object(e["a"])("dj/recommend/type?type=".concat(t))}function o(){return Object(e["a"])("dj/catelist")}function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return Object(e["a"])("dj/program?rid=".concat(t,"&limit=").concat(n))}function s(t){return Object(e["a"])("dj/detail?rid=".concat(t))}function u(t){return Object(e["a"])("comment/dj?id=".concat(t))}}}]);