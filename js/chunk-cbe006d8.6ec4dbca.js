(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cbe006d8"],{"02e1":function(t,e,n){"use strict";var i=n("f18c4"),a=n.n(i);a.a},1676:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return l}));n("99af"),n("d3b7"),n("3ca3"),n("ddb0");var i=n("f344");function a(t){return Object(i["a"])("/mv/first?limit=".concat(t),!1)}function s(t){return Object(i["a"])("/personalized/mv")}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(i["a"])("/top/mv?limit=".concat(t,"&area=").concat(e))}function c(t){return Promise.all([Object(i["a"])("mv/detail?mvid=".concat(t)),Object(i["a"])("mv/url?id=".concat(t)),Object(i["a"])("mv/detail/info?mvid=".concat(t))])}function o(t){return Object(i["a"])("related/allvideo?id=".concat(t))}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return Object(i["a"])("comment/mv?id=".concat(t,"&limit=").concat(e))}},1914:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"singer-detail"},[n("BreakHeader",{staticClass:"_header",attrs:{fixed:""}},[n("transition",{attrs:{"enter-active-class":"slideInUp","leave-active-class":"slideOutUp"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.flags.userinfo,expression:"flags.userinfo"}],staticClass:"_header-tool"},[n("div",{staticClass:"_header-tool-info"},[n("b",[t._v(t._s(t.singer.detail.name))]),t.isLogged?t._e():n("p",[t._v(t._s(t.singer.detail.musicSize)+" 音乐数量")])]),t.isLogged?t._e():n("span",[t._v("+ 关注")])])])],1),n("div",{ref:"cover",staticClass:"singer-detail-cover",class:{active:t.flags.cover}},[n("img",{attrs:{src:t.singer.detail.picUrl+"?param=700y700",alt:""}}),n("transition",{attrs:{"enter-active-class":"slideInDown","leave-active-class":"slideOutUp"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.flags.userinfo,expression:"!flags.userinfo"}],staticClass:"_contain"},[n("div",[n("b",[t._v(t._s(t.singer.detail.name))]),n("p",[t._v("音乐数量 "+t._s(t.singer.detail.musicSize))])]),n("span",[t._v("+ 关注")])])])],1),n("transition",{attrs:{"enter-active-class":"animated fadeIn"}},[t.flags.load?n("van-tabs",{staticClass:"singer-detail-contain",attrs:{swipeable:"",animated:"",background:"rgba(0,0,0,0)",sticky:"","offset-top":48},on:{scroll:t.scrollHandler},model:{value:t.nav.active,callback:function(e){t.$set(t.nav,"active",e)},expression:"nav.active"}},[n("van-tab",{attrs:{title:t.nav.list[0].text}},[n("SdHome",{attrs:{singer:t.singer,changeNav:t.changeNav}})],1),n("van-tab",{attrs:{title:t.nav.list[1].text}},[n("SdSong",{attrs:{artists:t.singer.artists}})],1),n("van-tab",{attrs:{title:t.nav.list[2].text}},[n("SdAlbum")],1),n("van-tab",{attrs:{title:t.nav.list[3].text}},[n("SdMv")],1)],1):t._e()],1)],1)},a=[],s=(n("99af"),n("fb6a"),n("d3b7"),n("5377"),n("3ca3"),n("ddb0"),n("7f5c")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"singer-detail-home"},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.flags.load,expression:"!flags.load"}]},[n("div",{staticClass:"_hotsong"},[n("div",{staticClass:"_title"},[n("b",{staticClass:"van-icon van-icon-fire-o"},[t._v("最近热门")]),n("input",{attrs:{type:"button",value:"更多热歌"},on:{click:function(e){return t.changeNav(1)}}})]),n("ul",{staticClass:"_hotsong-contain"},t._l(t.singerMix.hotThree,(function(t){return n("AudioCoverList",{key:t.id,attrs:{info:t}})})),1)]),n("div",{staticClass:"_singer"},[t.singerMixDesc?n("div",{staticClass:"_title"},[n("b",[t._v("歌手简介")]),n("input",{attrs:{type:"button",value:"更多信息"},on:{click:function(e){t.flags.singerMsg=!0}}})]):t._e(),n("div",{staticClass:"_singer-contain"},[t._v(t._s(t.singerMixDesc.briefDesc))])]),t.singerMixDesc?n("van-popup",{directives:[{name:"prevent-back",rawName:"v-prevent-back",value:t.closePopup,expression:"closePopup"}],staticClass:"singer-detail-popup",style:{height:"70%"},attrs:{round:"",closeable:"",position:"bottom","get-container":".singer-detail"},model:{value:t.flags.singerMsg,callback:function(e){t.$set(t.flags,"singerMsg",e)},expression:"flags.singerMsg"}},[n("div",{staticClass:"_contain"},[n("div",[n("p",[t._v(t._s(t.singerMix.detail.name)+"简介")]),n("div",{staticClass:"singer-more-context"},[t._v(t._s(t.singerMixDesc.briefDesc))])]),t._l(t.singerMixDesc.introduction,(function(e,i){return n("div",{key:i},[n("p",[t._v(t._s(e.ti))]),n("div",{staticClass:"singer-more-context"},[t._v(t._s(e.txt))])])}))],2)]):t._e()],1)])},c=[],o=n("5530"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"audio-cover-list",on:{click:function(e){return t.playMusic(t.info.id)}}},[n("div",{staticClass:"_cover"},[t.info.al.picUrl?n("img",{directives:[{name:"img-lazyload",rawName:"v-img-lazyload"}],attrs:{src:t.info.al.picUrl+t.squareImgSize,alt:""}}):t._e()]),n("div",{staticClass:"_info"},[n("p",{staticClass:"text-truncate"},[t._v(" "+t._s(t.info.name)+" "),n("a",[t._v(t._s(t.songNameTns||t.songNameElse))])]),n("span",{staticClass:"text-truncate"},[t._v(t._s(t.singerName))])]),n("span")])},u=[],d=(n("b0c0"),{name:"audiocoverlist",props:{info:Object},computed:{singerName:function(){var t=this.info,e=t.ar,n=t.al;return"".concat(e[0].name," - ").concat(n.name)},songNameTns:function(){var t=this.info.tns;return"undefined"!=typeof t?"(".concat(t[0],")"):""},songNameElse:function(){var t=this.info.alia;return t.length>0?"(".concat(t[0],")"):""}},methods:{playMusic:function(t){var e=this,n={info:{alg:null,id:t,v:null},obj:{list:[],id:null,index:0}};this.$store.dispatch("newMusic",n).then((function(t){e.$bus.emit("playerOpen")}))}}}),f=d,v=(n("2645"),n("2877")),g=Object(v["a"])(f,l,u,!1,null,"0d881f3a",null),m=g.exports,p={name:"singerdetailhome",components:{AudioCoverList:m},props:{singer:Object,changeNav:Function},data:function(){return{singerMix:{simi:[]},flags:{load:!1,singerMsg:!1}}},computed:{pageId:function(){return this.$route.query.id},singerMixDesc:function(){var t=this.singerMix.desc;return t||!1}},mounted:function(){this.mainRequset()},methods:{mainRequset:function(){var t=this,e=this.pageId;Object(s["f"])(e).then((function(e){t.singerMix=Object(o["a"])({simi:e.data.artists.slice(0,3)},t.singer)})).catch((function(e){t.singerMix=Object(o["a"])({},t.singer)})).finally((function(){t.flags.load=!0}))},closePopup:function(){this.flags.singerMsg=!1}}},h=p,b=(n("02e1"),Object(v["a"])(h,r,c,!1,null,"4bb82496",null)),_=b.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BotLoadAudioList",{staticClass:"singer-detail-song",attrs:{type:"list",data:t.artists,perpage:10,isbind:t.isActive,target:".singer-detail"}},[n("div",{staticClass:"_nav"},[n("div",[n("van-icon",{attrs:{name:"shop-collect-o"}}),t._v("收藏热门50 ")],1),n("span",[n("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),t._v(" 管理 ")])])])},C=[],y={name:"singerdetailsong",components:{},props:{artists:Array},inject:["nav"],data:function(){return{navKey:1}},computed:{isActive:function(){return this.nav.active===this.navKey}},mounted:function(){},methods:{}},j=y,O=(n("86ed"),Object(v["a"])(j,x,C,!1,null,"f8bca69e",null)),N=O.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.flags.load?n("BotLoad",{directives:[{name:"loading",rawName:"v-loading",value:!t.flags.load,expression:"!flags.load"}],staticClass:"singer-detail-album",attrs:{data:t.hotAlbums,perpage:10,isbind:t.isActive,target:".singer-detail"},scopedSlots:t._u([{key:"contain",fn:function(e){var i=e.curdata;return t._l(i,(function(t){return n("AlbumList",{key:t.id,attrs:{info:t}})}))}}],null,!1,2988881956)}):t._e()},w=[],S=n("d21b"),k={name:"singerdetailalbum",components:{AlbumList:S["a"]},inject:["nav"],data:function(){return{flags:{load:!1},hotAlbums:[],navKey:2}},computed:{pageId:function(){return this.$route.query.id},isActive:function(){return this.nav.active===this.navKey}},mounted:function(){this.mainRequest()},methods:{mainRequest:function(){var t=this;Object(s["b"])(this.pageId).then((function(e){var n=e.data.hotAlbums;t.hotAlbums=n,t.flags.load=!0}))}}},A=k,$=(n("e89d"),Object(v["a"])(A,M,w,!1,null,"623f2da0",null)),E=$.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.flags.load?n("BotLoad",{directives:[{name:"loading",rawName:"v-loading",value:!t.flags.load,expression:"!flags.load"}],staticClass:"singer-detail-mv",attrs:{data:t.mvs,perpage:10,isbind:t.isActive,target:".singer-detail"},scopedSlots:t._u([{key:"contain",fn:function(e){var i=e.curdata;return t._l(i,(function(t){return n("VideoList",{key:t.id,attrs:{info:t}})}))}}],null,!1,929478786)},[n("div",{staticClass:"_title"},[n("span",[t._v(" 全部 "),n("a",[t._v("(共"+t._s(t.mvs.length)+"个)")])]),n("div",[n("span",{staticClass:"active"},[t._v("全部")]),n("a",[t._v("|")]),n("span",[t._v("MV")])])])]):t._e()},I=[],R=(n("1676"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{ref:"contain",staticClass:"video-list",on:{click:t.toMain}},[n("div",{ref:"cover",staticClass:"_cover"},[t.info.imgurl?n("img",{directives:[{name:"img-lazyload",rawName:"v-img-lazyload"}],attrs:{src:t.info.imgurl+t.rectangleImgSize}}):t._e()]),n("div",{staticClass:"_info"},[n("p",{staticClass:"text-truncate"},[t._v(t._s(t.info.name))]),n("span",[t._v(t._s(t._f("toPoint")(t.info.publishTime)))])])])}),z=[],L=(n("ac1f"),n("5319"),{name:"videolist",props:{info:Object},filters:{toPoint:function(t){return t.replace(/\-/g,".")}},methods:{toMain:function(){var t=this.$refs,e=t.cover,n=t.contain,i={id:this.info.id,cover:e.getBoundingClientRect(),contain:n.getBoundingClientRect()};this.$router.push({path:"/home/mvdetail",query:i})}}}),T=L,P=(n("3b3a"),Object(v["a"])(T,R,z,!1,null,"5c4fc890",null)),D=P.exports,U={name:"singerdetailmv",components:{VideoList:D},inject:["nav"],data:function(){return{flags:{load:!1},mvs:[],navKey:3}},computed:{pageId:function(){return this.$route.query.id},isActive:function(){return this.nav.active===this.navKey}},mounted:function(){this.mainRequest()},methods:{mainRequest:function(){var t=this;Object(s["e"])(this.pageId).then((function(e){var n=e.data.mvs;t.mvs=n,t.flags.load=!0}))}}},H=U,B=(n("686d"),Object(v["a"])(H,q,I,!1,null,"15d75356",null)),K=B.exports,F={name:"singerdetail",components:{SdHome:_,SdSong:N,SdAlbum:E,SdMv:K},inject:["user"],provide:function(){return{nav:this.nav}},data:function(){return{nav:{list:[{text:"主页",comp:"SdHome"},{text:"歌曲",comp:"SdSong"},{text:"专辑",comp:"SdAlbum"},{text:"视频",comp:"SdMv"}],active:0},singer:{desc:{},artists:[],hotThree:[],cover:"",detail:{}},flags:{load:!1,cover:!1,userinfo:!1}}},computed:{pageId:function(){return this.$route.query.id},isLogged:function(){var t=this.user,e=t.flag;t.userid;return e}},beforeRouteEnter:function(t,e,n){console.log("router in"),n()},mounted:function(){this.mainRequset()},methods:{mainRequset:function(){var t=this,e=this.pageId;Promise.all([Object(s["d"])(e),Object(s["c"])(e)]).then((function(e){var n=e[1].data,i=n.artist,a=n.hotSongs;t.singer.desc=e[0].data,t.singer.artists=a,t.singer.detail=i,t.singer.hotThree=a.slice(0,3),t.flags.load=!0,setTimeout((function(e){return t.flags.cover=!0}),2e3)}))},scrollHandler:function(t){this.flags.userinfo!=t.isFixed&&(this.flags.userinfo=t.isFixed)},changeNav:function(t){this.nav.active=t},anmCounter:function(){if(this.hasPos){var t=this.$refs.cover;this.anmHandler(t,this.enterCover,t.getBoundingClientRect())}},anmHandler:function(t,e,n){var i=e.x-n.x,a=e.y-n.y,s=[{transform:"translate3d(".concat(i,"px, ").concat(a,"px,0)"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px")},{transform:"translate3d(0,0,0)",width:"".concat(n.width,"px"),height:"".concat(n.height,"px")}],r={duration:400};t.animate(s,r)}}},V=F,J=(n("7429"),Object(v["a"])(V,i,a,!1,null,"e23defb2",null));e["default"]=J.exports},"1a78":function(t,e,n){},2645:function(t,e,n){"use strict";var i=n("9c5e"),a=n.n(i);a.a},"3b3a":function(t,e,n){"use strict";var i=n("478c"),a=n.n(i);a.a},"3bda":function(t,e,n){},"478c":function(t,e,n){},5377:function(t,e,n){var i=n("83ab"),a=n("9bf2"),s=n("ad6d"),r=n("9f7f").UNSUPPORTED_Y;i&&("g"!=/./g.flags||r)&&a.f(RegExp.prototype,"flags",{configurable:!0,get:s})},"686d":function(t,e,n){"use strict";var i=n("3bda"),a=n.n(i);a.a},7429:function(t,e,n){"use strict";var i=n("fff4"),a=n.n(i);a.a},"7f5c":function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"f",(function(){return l}));n("99af");var i=n("f344");function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return Object(i["a"])("artist/mv?id=".concat(t,"&limit=").concat(e))}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return Object(i["a"])("artist/album?id=".concat(t,"&limit=").concat(e))}function r(t){return Object(i["a"])("album?id=".concat(t))}function c(t){return Object(i["a"])("artist/desc?id=".concat(t))}function o(t){return Object(i["a"])("artists?id=".concat(t))}function l(t){return Object(i["a"])("/simi/artist?id=".concat(t))}},8531:function(t,e,n){},"86ed":function(t,e,n){"use strict";var i=n("cd9e"),a=n.n(i);a.a},"9c5e":function(t,e,n){},cd9e:function(t,e,n){},d21b:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"album-list",on:{click:function(e){return t.toMainPage("/home/singeralbum",t.info.id)}}},[n("div",{staticClass:"_cover"},[t.info.picUrl?n("img",{directives:[{name:"img-lazyload",rawName:"v-img-lazyload"}],attrs:{src:t.info.picUrl+t.squareImgSize,alt:""}}):t._e()]),n("div",{staticClass:"_info"},[n("p",{staticClass:"text-truncate"},[t._v(" "+t._s(t.info.name)+" "),t.hasSongNames?n("a",[t._v("("+t._s(t.songNameTns||t.songNameElse)+")")]):t._e()]),n("span",[t._v(t._s(t._f("msToYmd")(t.info.publishTime))+t._s(" 歌曲"+t.info.size))])])])},a=[],s={name:"albumlist",props:{info:Object},computed:{songNameTns:function(){var t=this.info;return"undefined"!=typeof t.transNames?t.transNames[0]:""},songNameElse:function(){var t=this.info;return t.alias[0]},hasSongNames:function(){return this.songNameTns||this.songNameElse}}},r=s,c=(n("f17e"),n("2877")),o=Object(c["a"])(r,i,a,!1,null,"1e43ec1e",null);e["a"]=o.exports},e89d:function(t,e,n){"use strict";var i=n("1a78"),a=n.n(i);a.a},f17e:function(t,e,n){"use strict";var i=n("8531"),a=n.n(i);a.a},f18c4:function(t,e,n){},fff4:function(t,e,n){}}]);