(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1930fefc"],{"0131":function(t,e,n){},"043f":function(t,e,n){"use strict";var a=n("6c15"),r=n.n(a);r.a},"07c1":function(t,e,n){"use strict";var a=n("8503"),r=n.n(a);r.a},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"1da1":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("d3b7"),n("e6cf");function a(t,e,n,a,r,i,s){try{var o=t[i](s),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(a,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function o(t){a(s,r,i,o,c,"next",t)}function c(t){a(s,r,i,o,c,"throw",t)}o(void 0)}))}}},"1f77":function(t,e,n){},"20fc":function(t,e,n){"use strict";var a=n("d035"),r=n.n(a);r.a},"348e":function(t,e,n){},3590:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"song-list-item",on:{click:function(e){return t.toMainPage("/home/songdetail",t.id)}}},[t.cover?n("img",{directives:[{name:"img-lazyload",rawName:"v-img-lazyload"}],attrs:{src:t.cover+t.squareImgSize,alt:""}}):t._e(),n("div",[n("span",{staticClass:"text-truncate"},[t._v(t._s(t.title))]),n("p",{staticClass:"text-truncate"},[t._t("default")],2)])])},r=[],i=(n("a9e3"),{name:"songlistitem",props:{cover:String,title:String,id:Number}}),s=i,o=(n("cc4c"),n("2877")),c=Object(o["a"])(s,a,r,!1,null,"3a3eb454",null);e["a"]=c.exports},"38e1":function(t,e,n){"use strict";var a=n("e085"),r=n.n(a);r.a},"3d79":function(t,e,n){},"52b4":function(t,e,n){},"53ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}},"5fef":function(t,e,n){"use strict";var a=n("ed88"),r=n.n(a);r.a},6560:function(t,e,n){"use strict";var a=n("348e"),r=n.n(a);r.a},"65f8":function(t,e,n){},"6c15":function(t,e,n){},7342:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-item",on:{click:function(e){return t.toMainPage("/home/userdetail",t.detail.userId)}}},[t.detail.avatarUrl?n("img",{directives:[{name:"img-lazyload",rawName:"v-img-lazyload"}],attrs:{src:t.detail.avatarUrl+t.squareImgSize,alt:""}}):t._e(),n("div",{staticClass:"_info"},[n("p",{staticClass:"text-truncate"},[t._v(" "+t._s(t.detail.nickname)+" "),t.userGender?n("i",{class:t.userGender}):t._e()]),t.userSays?n("a",{staticClass:"text-truncate"},[t._v(t._s(t.userSays))]):t._e()]),n("div",{staticClass:"_else"},[t.followed?n("a"):n("span",[t._v("+ 关注")])])])},r=[],i=(n("a4d3"),n("e01a"),{name:"useritem",props:{detail:Object,followed:{type:Boolean,default:!1}},computed:{userSays:function(){var t=this.detail,e=t.description,n=t.signature;return e||n||!1},userGender:function(){var t=this.detail.gender;switch(t){case 1:return"fa fa-mars";case 2:return"fa fa-venus";default:return!1}}}}),s=i,o=(n("bf87"),n("2877")),c=Object(o["a"])(s,a,r,!1,null,"0a74de2b",null);e["a"]=c.exports},"7d28":function(t,e,n){},"841c":function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),i=n("1d80"),s=n("129f"),o=n("14c3");a("search",1,(function(t,e,n){return[function(e){var n=i(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](String(n))},function(t){var a=n(e,t,this);if(a.done)return a.value;var i=r(t),c=String(this),l=i.lastIndex;s(l,0)||(i.lastIndex=0);var u=o(i,c);return s(i.lastIndex,l)||(i.lastIndex=l),null===u?-1:u.index}]}))},8503:function(t,e,n){},8531:function(t,e,n){},"8d73":function(t,e,n){},"913b":function(t,e,n){"use strict";var a=n("3d79"),r=n.n(a);r.a},9258:function(t,e,n){"use strict";var a=n("a593"),r=n.n(a);r.a},9668:function(t,e,n){"use strict";var a=n("8d73"),r=n.n(a);r.a},"96cf":function(t,e,n){var a=function(t){"use strict";var e,n=Object.prototype,a=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,e,n,a){var r=e&&e.prototype instanceof v?e:v,i=Object.create(r.prototype),s=new L(a||[]);return i._invoke=C(t,n,s),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(a){return{type:"throw",arg:a}}}t.wrap=c;var u="suspendedStart",f="suspendedYield",d="executing",h="completed",m={};function v(){}function p(){}function g(){}var y={};y[i]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(E([])));b&&b!==n&&a.call(b,i)&&(y=b);var w=g.prototype=v.prototype=Object.create(y);function k(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t,e){function n(r,i,s,o){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===typeof f&&a.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,o)}),(function(t){n("throw",t,s,o)})):e.resolve(f).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,o)}))}o(c.arg)}var r;function i(t,a){function i(){return new e((function(e,r){n(t,a,e,r)}))}return r=r?r.then(i,i):i()}this._invoke=i}function C(t,e,n){var a=u;return function(r,i){if(a===d)throw new Error("Generator is already running");if(a===h){if("throw"===r)throw i;return I()}n.method=r,n.arg=i;while(1){var s=n.delegate;if(s){var o=S(s,n);if(o){if(o===m)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===u)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var c=l(t,e,n);if("normal"===c.type){if(a=n.done?h:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=h,n.method="throw",n.arg=c.arg)}}}function S(t,n){var a=t.iterator[n.method];if(a===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=l(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var n=t[i];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){while(++r<t.length)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:I}}function I(){return{value:e,done:!0}}return p.prototype=w.constructor=g,g.constructor=p,g[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(x.prototype),x.prototype[s]=function(){return this},t.AsyncIterator=x,t.async=function(e,n,a,r,i){void 0===i&&(i=Promise);var s=new x(c(e,n,a,r),i);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},k(w),w[o]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var a=e.pop();if(a in t)return n.value=a,n.done=!1,n}return n.done=!0,n}},t.values=E,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(a,r){return o.type="throw",o.arg=t,n.next=a,r&&(n.method="next",n.arg=e),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=a.call(s,"catchLoc"),l=a.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var r=a.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:E(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=a}catch(r){Function("r","regeneratorRuntime = r")(a)}},9780:function(t,e,n){"use strict";var a=n("65f8"),r=n.n(a);r.a},"9ac9":function(t,e,n){"use strict";var a=n("7d28"),r=n.n(a);r.a},"9b9f":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"artist-item",on:{click:function(e){return t.toMainPage("/home/singerdetail",t.detail.id)}}},[t.detail.picUrl?n("img",{directives:[{name:"img-lazyload",rawName:"v-img-lazyload"}],attrs:{src:t.detail.picUrl+t.squareImgSize,alt:""}}):t._e(),n("p",{staticClass:"text-truncate"},[t._v(" "+t._s(t.detail.name)+" "),t.artistElseName?n("a",[t._v(t._s(t.artistElseName))]):t._e()]),t.isSettlein?n("span",[n("van-icon",{attrs:{name:"contact"}}),t._v("已入驻 ")],1):t._e()])},r=[],i=(n("a15b"),{name:"artistitem",props:{detail:Object},computed:{artistElseName:function(){var t=this.detail.alias;return t.length>0&&"(".concat(t.join("/"),")")},isSettlein:function(){return"undefined"!==typeof this.detail.accountId}}}),s=i,o=(n("a277"),n("2877")),c=Object(o["a"])(s,a,r,!1,null,"1f3081b6",null);e["a"]=c.exports},a277:function(t,e,n){"use strict";var a=n("0131"),r=n.n(a);r.a},a397:function(t,e,n){},a476:function(t,e,n){"use strict";n.r(e);var a,r,i,s,o,c,l,u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-search"},[n("div",{staticClass:"_header"},[n("div",{staticClass:"_header-control",class:{"_header-control-focus":t.isActive}},[n("div",{staticClass:"_header-control-input"},[n("van-icon",{attrs:{name:"search"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.search.key,expression:"search.key"}],ref:"searchinput",attrs:{type:"text",placeholder:t.search.dftxt},domProps:{value:t.search.key},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doSearch(e)},focus:function(e){t.focusflag=!0},input:[function(e){e.target.composing||t.$set(t.search,"key",e.target.value)},t.searchChanged],mouseleave:function(e){t.focusflag=!1}}})],1),n("van-icon",{attrs:{name:"apps-o"}})],1),n("div",{staticClass:"_header-banner",class:{"_header-banner-focus":t.isActive}})]),n("div",{staticClass:"_contain",class:{"_contain-focus":t.isActive}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasKey,expression:"!hasKey"}],staticClass:"_contain-unsearch"},[n("div",{staticClass:"_title"},[t._v("热搜榜")]),n("ul",{staticClass:"_hot"},t._l(t.search.hot,(function(e,a){return n("li",{key:a,class:{_info:a+1<4},on:{click:function(n){t.search.key=e.searchWord}}},[n("span",[t._v(t._s(a+1))]),n("div",[n("a",{staticClass:"text-truncate"},[t._v(t._s(e.searchWord))]),n("p",{staticClass:"text-truncate"},[t._v(t._s(e.content))])])])})),0)]),n("HsSuggest",{attrs:{list:t.search.suggest,searchKey:t.search.key},on:{suggestClick:t.suggestClick}}),t.hasKey?n("van-tabs",{key:t.nav.key,staticClass:"_contain-search",attrs:{swipeable:"",animated:"",background:"rgba(0,0,0,0)"},model:{value:t.nav.active,callback:function(e){t.$set(t.nav,"active",e)},expression:"nav.active"}},t._l(t.nav.list,(function(e,a){return n("van-tab",{key:a,attrs:{title:e.text}},[n(e.comp,{tag:"div",attrs:{navHanlder:t.changeNavActive,keyword:t.search.key}})],1)})),1):t._e()],1)])},f=[],d=(n("a434"),n("e439"),n("ac1f"),n("841c"),n("63ae")),h=n("a7f5"),m=n("c0f2"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-search-mix",on:{scroll:t.mainScroll}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.flags.load,expression:"!flags.load"}]},[t.flags.lazy>=1?n("div",{staticClass:"_song"},[n("div",{staticClass:"_title"},[t._v("单曲")]),t._l(t.song.songs,(function(t,e){return n("SearchAudioItem",{key:e,attrs:{detail:t}})})),n("div",{staticClass:"_more",on:{click:function(e){return t.navHanlder(1)}}},[t._v("查看更多"+t._s(t.keyword)+"的歌曲 >")])],2):t._e(),t.flags.lazy>=2?n("div",{staticClass:"_video"},[n("div",{staticClass:"_title"},[t._v("视频")]),t._l(t.video.videos,(function(t,e){return n("SearchVideoList",{key:e,attrs:{info:t}})})),n("div",{staticClass:"_more",on:{click:function(e){return t.navHanlder(2)}}},[t._v(t._s(t.video.moreText)+" >")])],2):t._e(),t.flags.lazy>=3?n("div",{staticClass:"_songlist"},[n("div",{staticClass:"_title"},[t._v("歌单")]),t._l(t.playList.playLists,(function(e,a){return n("SonglistItem",{key:a,attrs:{cover:e.coverImgUrl,title:e.name,id:e.id}},[t._v(t._s(e.trackCount)+"首 by "+t._s(e.creator.nickname)+" ，播放"+t._s(t._f("numFormat")(e.playCount))+"次")])})),n("div",{staticClass:"_more",on:{click:function(e){return t.navHanlder(3)}}},[t._v(t._s(t.playList.moreText)+" >")])],2):t._e(),t.flags.lazy>=4?n("div",{staticClass:"_mlog"},[n("div",{staticClass:"_title"},[t._v("Mlog")]),n("div",{staticClass:"_mlog-contain"},t._l(t.mlog.mlogs,(function(t,e){return n("SearchMlogItem",{key:e,attrs:{info:t}})})),1),n("div",{staticClass:"_more",on:{click:function(e){return t.navHanlder(4)}}},[t._v(t._s(t.mlog.moreText)+" >")])]):t._e(),t.flags.lazy>=5?n("div",{staticClass:"_singer"},[n("div",{staticClass:"_title"},[t._v("歌手")]),t._l(t.artist.artists,(function(t,e){return n("ArtistItem",{key:e,attrs:{detail:t}})})),n("div",{staticClass:"_more",on:{click:function(e){return t.navHanlder(5)}}},[t._v(t._s(t.artist.moreText)+" >")])],2):t._e(),t.flags.lazy>=6?n("div",{staticClass:"_album"},[n("div",{staticClass:"_title"},[t._v("专辑")]),t._l(t.album.albums,(function(t,e){return n("AlbumList",{key:e,attrs:{info:t}})})),n("div",{staticClass:"_more",on:{click:function(e){return t.navHanlder(6)}}},[t._v(t._s(t.album.moreText)+" >")])],2):t._e(),t.flags.lazy>=7?n("div",{staticClass:"_dj"},[n("div",{staticClass:"_title"},[t._v("电台")]),t._l(t.djRadio.djRadios,(function(t,e){return n("DjradioItem",{key:e,attrs:{info:t}})})),n("div",{staticClass:"_more",on:{click:function(e){return t.navHanlder(7)}}},[t._v(t._s(t.djRadio.moreText)+" >")])],2):t._e(),t.flags.lazy>=8?n("div",{staticClass:"_user"},[n("div",{staticClass:"_title"},[t._v("用户")]),t._l(t.user.users,(function(t,e){return n("UserItem",{key:e,attrs:{detail:t}})})),n("div",{staticClass:"_more",on:{click:function(e){return t.navHanlder(8)}}},[t._v(t._s(t.user.moreText)+" >")])],2):t._e()])])},p=[],g=(n("4160"),n("d3b7"),n("5377"),n("3ca3"),n("ddb0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-audio-item",on:{click:t.changeMusic}},[n("div",{staticClass:"_bg"}),n("div",{staticClass:"_info"},[n("p",{staticClass:"text-truncate"},[t._v(" "+t._s(t.detail.name)+" "),t.songNameRemark?n("a",[t._v("("+t._s(t.songNameRemark)+")")]):t._e()]),n("a",{staticClass:"text-truncate"},[t.isUseful?t._e():n("span",[t._v("VIP")]),t._v(" "+t._s(t.fullSinger)+" ")])]),n("span",{staticClass:"van-icon van-icon-tv-o",on:{click:function(t){t.stopPropagation()}}}),n("span",{staticClass:"van-icon van-icon-ellipsis",on:{click:function(t){t.stopPropagation()}}})])}),y=[],_=(n("a15b"),n("d81d"),n("b0c0"),n("96cf"),n("1da1")),b=n("53ca"),w=(n("d73f"),{name:"searchaudioitem",props:{detail:Object},computed:{songNameRemark:function(){return this.detail.alias[0]},fullSinger:function(){return this.detail.artists.map((function(t){return t.name})).join("/")+" - "+this.detail.album.name},isUseful:function(){var t=this.detail.url;return"object"!==Object(b["a"])(t)}},methods:{changeMusic:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("do"),e.next=3,{info:{alg:null,id:t.detail.id,v:null},obj:{list:[],id:null,index:0}};case 3:n=e.sent,t.$store.dispatch("newMusic",n).then((function(e){t.$bus.emit("playerOpen")}));case 5:case"end":return e.stop()}}),e)})))()}}}),k=w,x=(n("ed65"),n("2877")),C=Object(x["a"])(k,g,y,!1,null,"b014a948",null),S=C.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{ref:"contain",staticClass:"search-video-list",on:{click:t.toMain}},[n("div",{ref:"cover",staticClass:"_cover"},[t.info.coverUrl?n("img",{directives:[{name:"img-lazyload",rawName:"v-img-lazyload"}],attrs:{src:t.info.coverUrl+t.rectangleImgSize,alt:""}}):t._e()]),n("div",{staticClass:"_info"},[n("p",{staticClass:"text-truncate"},[t._v(t._s(t.info.title))]),n("span",[t._v(" "+t._s(t._f("toMs")(t.info.durationms))+" "),n("a",{class:{_active:0===t.info.type}},[t._v(t._s(t.creatorName))])])])])},O=[],L=(n("99af"),n("25f0"),n("4d90"),{name:"searchvideolist",props:{info:Object},data:function(){return{imgSize:"?param=533y300"}},filters:{toMs:function(t){var e=new Date(t),n=e.getMinutes().toString().padStart(2,0),a=e.getSeconds().toString().padStart(2,0);return"".concat(n,":").concat(a)}},computed:{creatorName:function(){var t=this.info,e=t.creator,n=t.type;return 0===n?e[0].userName:"by ".concat(e[0].userName)}},methods:{toMain:function(){}}}),E=L,I=(n("dc9c"),Object(x["a"])(E,j,O,!1,null,"13cfa9a7",null)),N=I.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"contain",staticClass:"search-mlog-item",on:{click:t.toMain}},[n("div",{staticClass:"_cover van-icon van-icon-play",class:{"cover-fixed-size":!t.autosize}},[n("img",{directives:[{name:"img-lazyload",rawName:"v-img-lazyload"}],style:t.coverSize,attrs:{src:t.detail.mlogBaseData.coverUrl,alt:""}}),n("span",[t._v(t._s(t.info.matchFieldContent))])]),n("div",{staticClass:"_msg paragraph-truncate"},[t._v(t._s(t.detail.mlogBaseData.text))]),n("div",{staticClass:"_creator"},[n("div",[n("img",{attrs:{src:t.detail.userProfile.avatarUrl,alt:""}}),n("span",{staticClass:"text-truncate"},[t._v(t._s(t.detail.userProfile.nickname))])]),n("span",[t._v(t._s(t.detail.mlogExtVO.likedCount)+"赞")])])])},z=[],H={name:"searchmlogitem",props:{info:Object,autosize:{type:Boolean,default:!1}},data:function(){return{coverSize:{}}},computed:{detail:function(){return this.info.resource||!1}},mounted:function(){this.initCoverSize()},methods:{initCoverSize:function(){},toMain:function(){}}},q=H,M=(n("5fef"),Object(x["a"])(q,R,z,!1,null,"3c34da59",null)),A=M.exports,P=n("3590"),$=n("9b9f"),U=n("d21b"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"djradio-item",on:{click:function(e){return t.toMainPage("/home/djdetail",t.info.id)}}},[t.info.picUrl?n("img",{directives:[{name:"img-lazyload",rawName:"v-img-lazyload"}],attrs:{src:t.info.picUrl+t.squareImgSize,alt:""}}):t._e(),n("div",[n("span",{staticClass:"text-truncate"},[t._v(t._s(t.info.name))]),n("p",{staticClass:"text-truncate"},[t._v(t._s(t.info.dj.nickname))])])])},D=[],G={name:"djradioitem",props:{info:Object}},F=G,B=(n("cada"),Object(x["a"])(F,T,D,!1,null,"35f42d2f",null)),K=B.exports,V=n("7342"),W={name:"homesearchmix",components:{SearchAudioItem:S,SearchVideoList:N,SonglistItem:P["a"],ArtistItem:$["a"],AlbumList:U["a"],DjradioItem:K,UserItem:V["a"],SearchMlogItem:A},props:{keyword:String,navHanlder:Function},data:function(){return{navKey:0,album:{},artist:{},djRadio:{},mlog:{},playList:{},song:{songs:[]},talk:{},user:{},video:{},flags:{load:!1,lazy:1}}},computed:{isActive:function(){return this.nav.active===this.navKey}},mounted:function(){this.mainRequset()},methods:(a=Object(m["c"])(30),r=Object(m["b"])(60),i={mainRequset:function(){var t=this;this.flags.load=!1,Promise.all([Object(h["e"])(this.keyword,1018,30),Object(h["e"])(this.keyword,1,18)]).then((function(e){t.initData(e[0].data.result),t.song.songs=e[1].songs,t.flags.load=!0}))},initData:function(t){var e=this,n=["video","playList","mlog","talk","artist","album","djRadio","user"];n.forEach((function(n){e[n]=t[n]}))},mainScroll:function(t){var e=t.target,n=e.scrollHeight,a=e.clientHeight,r=e.scrollTop,i=parseInt(n-a),s=parseInt(r+200);s<=i+200&&i<=s&&this.loadMore()},loadMore:function(){this.flags.lazy<9&&this.flags.lazy++}},Object(d["a"])(i,"mainScroll",[a],Object.getOwnPropertyDescriptor(i,"mainScroll"),i),Object(d["a"])(i,"loadMore",[r],Object.getOwnPropertyDescriptor(i,"loadMore"),i),i)},Y=W,J=(n("6560"),Object(x["a"])(Y,v,p,!1,null,"50b71da8",null)),Q=J.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BotLoadRequest",{directives:[{name:"loading",rawName:"v-loading",value:!t.flags.load,expression:"!flags.load"}],staticClass:"home-search-song",attrs:{offset:"",perpage:14,request:t.mainRequset,resword:"songs"},on:{firstLoad:t.firstLoad},scopedSlots:t._u([{key:"contain",fn:function(e){var a=e.curdata;return t._l(a,(function(t,e){return n("SearchAudioItem",{key:e,attrs:{detail:t}})}))}}])})},Z=[],tt={name:"homesearchsong",components:{SearchAudioItem:S},props:{keyword:String},data:function(){return{flags:{load:!1}}},methods:{mainRequset:function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return new Promise((function(e){h["e"].apply(void 0,[t.keyword,1].concat(n)).then((function(t){e({data:{songs:t.songs}})}))}))},firstLoad:function(t){this.flags.load=t}}},et=tt,nt=(n("043f"),Object(x["a"])(et,X,Z,!1,null,"8c4e1c9e",null)),at=nt.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-search-video"},[t._v("接口开发中")])},it=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ad-waterfall",on:{"&scroll":function(e){return t.mainScroll(e)}}},[n("div",{ref:"leftlist",staticClass:"left-cloumn"},[t._t("left",null,{leftlist:t.list.left})],2),n("div",{ref:"rightlist",staticClass:"right-cloumn"},[t._t("right",null,{rightlist:t.list.right})],2),t._t("default")],2)},ot=[],ct=(n("a9e3"),{name:"ad-waterfall",props:{data:Array,prepage:{type:Number,default:4}},data:function(){return{list:{left:[],right:[],lindex:0,rindex:0},loadflag:!0}},computed:{indexCount:function(){var t=this.list,e=t.lindex,n=t.rindex;return e+n}},watch:{indexCount:function(t){var e=this.data,n=this.prepage;this.emit;e.length-t<n&&$emit("more")}},mounted:function(){this.init()},methods:(s=Object(m["c"])(30),o={init:function(){this.list.lindex=parseInt(this.prepage/2),this.list.rindex=parseInt(this.prepage-this.list.lindex),this.partHandle(this.data)},partHandle:function(t){for(var e=this.prepage,n=0;n<t.length;n++)if(n<e&&this.list.left.push(t[n]),n>=e&&n<2*e&&this.list.right.push(t[n]),n>=2*e)return},mainScroll:function(t){var e=t.target,n=e.scrollHeight,a=e.clientHeight,r=e.scrollTop,i=parseInt(n-a),s=parseInt(r+200);s<=i+200&&i<=s&&this.loadMore()},loadMore:function(){if(this.loadflag){var t=this.$refs.leftlist.clientHeight,e=this.$refs.rightlist.clientHeight,n=this.list,a=n.lindex,r=n.rindex,i=a+r;i>=this.data.length||(t>e?(this.list.right.push(this.data[i]),this.list.rindex++):(this.list.left.push(this.data[i]),this.list.lindex++))}}},Object(d["a"])(o,"mainScroll",[s],Object.getOwnPropertyDescriptor(o,"mainScroll"),o),o)}),lt=ct,ut=(n("9780"),Object(x["a"])(lt,st,ot,!1,null,"f1fdd00e",null)),ft=ut.exports,dt={name:"homesearchvideo",components:{SearchMlogItem:A,AdWaterfall:ft},props:{keyword:String},data:function(){return{videos:[]}},mounted:function(){},methods:{mainRequset:function(){Object(h["e"])(this.keyword,1014,30).then((function(t){console.log(t.data.result.videos)}))}}},ht=dt,mt=(n("e2cf"),Object(x["a"])(ht,rt,it,!1,null,"276dfb32",null)),vt=mt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BotLoadRequest",{directives:[{name:"loading",rawName:"v-loading",value:!t.flags.load,expression:"!flags.load"}],staticClass:"home-search-mv",attrs:{offset:"",perpage:14,request:t.mainRequset,resword:"videos"},on:{firstLoad:t.firstLoad},scopedSlots:t._u([{key:"contain",fn:function(e){var a=e.curdata;return t._l(a,(function(t,e){return n("SearchVideoList",{key:e,attrs:{info:t}})}))}}])})},gt=[],yt={name:"homesearchmv",components:{SearchVideoList:N},props:{keyword:String},data:function(){return{flags:{load:!1}}},methods:{mainRequset:function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return new Promise((function(e){h["e"].apply(void 0,[t.keyword,1014].concat(n)).then((function(t){e({data:{videos:t.data.result.videos}})}))}))},firstLoad:function(t){this.flags.load=t}}},_t=yt,bt=(n("9ac9"),Object(x["a"])(_t,pt,gt,!1,null,"4360df0c",null)),wt=bt.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-search-singer"},[t._l(t.artists,(function(t,e){return n("ArtistItem",{key:e,attrs:{detail:t}})})),0===t.artists.length?n("p",[t._v("--没有相关内容--")]):t._e()],2)},xt=[],Ct={name:"homesearchsinger",components:{ArtistItem:$["a"]},props:{keyword:String},data:function(){return{artists:[]}},mounted:function(){this.mainRequset()},methods:{mainRequset:function(){var t=this;Object(h["e"])(this.keyword,100,30).then((function(e){t.artists=e.data.result.artists}))}}},St=Ct,jt=(n("20fc"),Object(x["a"])(St,kt,xt,!1,null,"c359acb2",null)),Ot=jt.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BotLoadRequest",{directives:[{name:"loading",rawName:"v-loading",value:!t.flags.load,expression:"!flags.load"}],staticClass:"home-search-album",attrs:{offset:"",perpage:12,request:t.mainRequset,resword:"albums"},on:{firstLoad:t.firstLoad},scopedSlots:t._u([{key:"contain",fn:function(e){var a=e.curdata;return[n("ul",t._l(a,(function(t,e){return n("AlbumList",{key:e,attrs:{info:t}})})),1)]}}])})},Et=[],It={name:"homesearchalbum",components:{AlbumList:U["a"]},props:{keyword:String},data:function(){return{flags:{load:!1}}},methods:{mainRequset:function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return new Promise((function(e){h["e"].apply(void 0,[t.keyword,10].concat(n)).then((function(t){var n=t.data.result.albums;e({data:{albums:n}})}))}))},firstLoad:function(t){this.flags.load=t}}},Nt=It,Rt=(n("9258"),Object(x["a"])(Nt,Lt,Et,!1,null,"6bc91436",null)),zt=Rt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BotLoadRequest",{directives:[{name:"loading",rawName:"v-loading",value:!t.flags.load,expression:"!flags.load"}],staticClass:"home-search-songlist",attrs:{offset:"",perpage:12,request:t.mainRequset,resword:"playlists"},on:{firstLoad:t.firstLoad},scopedSlots:t._u([{key:"contain",fn:function(e){var a=e.curdata;return t._l(a,(function(e,a){return n("SonglistItem",{key:a,attrs:{cover:e.coverImgUrl,title:e.name,id:e.id}},[t._v(t._s(e.trackCount)+"首 by "+t._s(e.creator.nickname)+" ，播放"+t._s(t._f("numFormat")(e.playCount))+"次")])}))}}])})},qt=[],Mt={name:"homesearchsomglist",components:{SonglistItem:P["a"]},props:{keyword:String},data:function(){return{songlist:[],flags:{load:!1}}},mounted:function(){this.mainRequset()},methods:{mainRequset:function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return new Promise((function(e){h["e"].apply(void 0,[t.keyword,1e3].concat(n)).then((function(t){var n=t.data.result.playlists;e({data:{playlists:n}})}))}))},firstLoad:function(t){this.flags.load=t}}},At=Mt,Pt=(n("07c1"),Object(x["a"])(At,Ht,qt,!1,null,"86823ada",null)),$t=Pt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BotLoadRequest",{directives:[{name:"loading",rawName:"v-loading",value:!t.flags.load,expression:"!flags.load"}],staticClass:"home-search-album",attrs:{offset:"",perpage:12,request:t.mainRequset,resword:"djRadios"},on:{firstLoad:t.firstLoad},scopedSlots:t._u([{key:"contain",fn:function(e){var a=e.curdata;return t._l(a,(function(t,e){return n("DjradioItem",{key:e,attrs:{info:t}})}))}}])})},Tt=[],Dt={name:"homesearchmv",components:{DjradioItem:K},props:{keyword:String},data:function(){return{djRadios:[],flags:{load:!1}}},mounted:function(){this.mainRequset()},methods:{mainRequset:function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return new Promise((function(e){h["e"].apply(void 0,[t.keyword,1009].concat(n)).then((function(t){var n=t.data.result.djRadios;e({data:{djRadios:n}})}))}))},firstLoad:function(t){this.flags.load=t}}},Gt=Dt,Ft=(n("38e1"),Object(x["a"])(Gt,Ut,Tt,!1,null,"b44ad1d6",null)),Bt=Ft.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-search-user"},t._l(t.users,(function(t,e){return n("UserItem",{key:e,attrs:{detail:t}})})),1)},Vt=[],Wt={name:"homesearchuser",components:{UserItem:V["a"]},props:{keyword:String},data:function(){return{users:[]}},mounted:function(){this.mainRequset()},methods:{mainRequset:function(){var t=this;Object(h["e"])(this.keyword,1002,30).then((function(e){t.users=e.data.result.userprofiles}))}}},Yt=Wt,Jt=(n("913b"),Object(x["a"])(Yt,Kt,Vt,!1,null,"1a7ac333",null)),Qt=Jt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{directives:[{name:"show",rawName:"v-show",value:t.hasList,expression:"hasList"}],staticClass:"home-search__suggest"},t._l(t.curList,(function(e){return n("li",{key:e.id,on:{click:function(n){return t.itemClick(e.keyword)}}},[n("i",{staticClass:"fa fa-search"}),n("p",{domProps:{innerHTML:t._s(e.dom)}})])})),0)},Zt=[],te=(n("5319"),{name:"HsSuggest",props:{list:{type:Array,default:[]},searchKey:{type:String,default:""}},data:function(){return{}},computed:{curList:function(){var t=this.list,e=this.searchKey;return 0===t.length?[]:t.map((function(t,n){return t.dom=t.keyword.replace(e,"<a>".concat(e,"</a>")),t.id=n,t}))},hasList:function(){return this.list.length>0}},methods:{itemClick:function(t){this.$emit("suggestClick",t)}}}),ee=te,ne=(n("9668"),Object(x["a"])(ee,Xt,Zt,!1,null,null,null)),ae=ne.exports,re={name:"homesearch",components:{HsMix:Q,HsSong:at,HsVideo:vt,HsMv:wt,HsSinger:Ot,HsAlbum:zt,HsSonglist:$t,HsDj:Bt,HsUser:Qt,HsSuggest:ae},data:function(){return{focusflag:!1,nav:{list:[{text:"综合",comp:"HsMix"},{text:"单曲",comp:"HsSong"},{text:"视频",comp:"HsMv"},{text:"歌手",comp:"HsSinger"},{text:"专辑",comp:"HsAlbum"},{text:"歌单",comp:"HsSonglist"},{text:"主播电台",comp:"HsDj"},{text:"用户",comp:"HsUser"}],active:0,key:0},search:{key:"",oldkey:"",dftxt:"",hot:[],suggest:[]}}},computed:{allowedSearch:function(){var t=this.search,e=t.key,n=t.oldkey;t.dftxt;return e!=n&&""!=e},hasKey:function(){return""!==this.search.key},isActive:function(){return this.focusflag||""!==this.search.key}},watch:{"search.key":function(t){""!=t&&(this.nav.active=0)}},mounted:function(){this.mainRequest()},methods:(c=Object(m["b"])(200),l={mainRequest:function(){var t=this;Object(h["a"])().then((function(e){t.search.dftxt=e.data.data.realkeyword})),Object(h["b"])().then((function(e){t.search.hot=e.data.data}))},doSearch:function(){var t=this.search,e=t.dftxt,n=t.key;if(""!=e&&""===n)this.search.key=e;else if(!this.allowedSearch)return;this.nav.active=0,this.$refs.searchinput.blur(),this.focusflag=!1,this.nav.key=Math.random(),this.clearSuggest()},changeNavActive:function(t){this.nav.active=t},searchChanged:function(){var t=this,e=this.search.key;""!==e&&Object(h["h"])(e).then((function(e){var n=e.data.result;"undefined"!==typeof n.allMatch?t.search.suggest=n.allMatch:t.search.suggest.splice(0)}))},clearSuggest:function(){this.search.suggest.splice(0)},suggestClick:function(t){this.search.key=t,this.clearSuggest(),this.doSearch()}},Object(d["a"])(l,"searchChanged",[c],Object.getOwnPropertyDescriptor(l,"searchChanged"),l),l)},ie=re,se=(n("e4c0"),Object(x["a"])(ie,u,f,!1,null,"5fd0ea5d",null));e["default"]=se.exports},a593:function(t,e,n){},a7f5:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return f})),n.d(e,"h",(function(){return d}));n("99af"),n("c740"),n("4160"),n("d81d"),n("d3b7"),n("25f0"),n("159b");var a=n("f344"),r=n("d73f");function i(){return Object(a["a"])("banner?type=1")}function s(){return Object(a["a"])("personalized/djprogram")}function o(t){return Object(a["a"])("top/mv?limit=".concat(t))}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(a["a"])("comment/hot?id=".concat(t,"&type=").concat(e,"&limit=").concat(n,"&offset=").concat(r))}function l(){return Object(a["a"])("search/default")}function u(){return Object(a["a"])("search/hot/detail")}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return 1===e?new Promise((function(s,o){Object(a["a"])("search?keywords=".concat(t,"&limit=").concat(n,"&type=").concat(e,"&offset=").concat(i)).then((function(t){var e=t.data.result.songs,n=t.data.result.songCount,a=e.map((function(t){return t.id}));Object(r["e"])(a.toString()).then((function(t){t.data.data.forEach((function(t){var n=e.findIndex((function(e){return e.id===t.id}));e[n].url=t.url}))}));var i={songs:e,songCount:n};s(i)})).catch((function(t){return o(t)}))})):Object(a["a"])("search?keywords=".concat(t,"&limit=").concat(n,"&type=").concat(e,"&offset=").concat(i))}function d(t){return Object(a["a"])("search/suggest?keywords= ".concat(t,"&type=mobile"))}},af06:function(t,e,n){},bf87:function(t,e,n){"use strict";var a=n("a397"),r=n.n(a);r.a},c5cd:function(t,e,n){},cada:function(t,e,n){"use strict";var a=n("52b4"),r=n.n(a);r.a},cc4c:function(t,e,n){"use strict";var a=n("ed17"),r=n.n(a);r.a},d035:function(t,e,n){},d06c:function(t,e,n){},d21b:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"album-list",on:{click:function(e){return t.toMainPage("/home/singeralbum",t.info.id)}}},[n("div",{staticClass:"_cover"},[t.info.picUrl?n("img",{directives:[{name:"img-lazyload",rawName:"v-img-lazyload"}],attrs:{src:t.info.picUrl+t.squareImgSize,alt:""}}):t._e()]),n("div",{staticClass:"_info"},[n("p",{staticClass:"text-truncate"},[t._v(" "+t._s(t.info.name)+" "),t.hasSongNames?n("a",[t._v("("+t._s(t.songNameTns||t.songNameElse)+")")]):t._e()]),n("span",[t._v(t._s(t._f("msToYmd")(t.info.publishTime))+t._s(" 歌曲"+t.info.size))])])])},r=[],i={name:"albumlist",props:{info:Object},computed:{songNameTns:function(){var t=this.info;return"undefined"!=typeof t.transNames?t.transNames[0]:""},songNameElse:function(){var t=this.info;return t.alias[0]},hasSongNames:function(){return this.songNameTns||this.songNameElse}}},s=i,o=(n("f17e"),n("2877")),c=Object(o["a"])(s,a,r,!1,null,"1e43ec1e",null);e["a"]=c.exports},dc9c:function(t,e,n){"use strict";var a=n("af06"),r=n.n(a);r.a},e085:function(t,e,n){},e2cf:function(t,e,n){"use strict";var a=n("d06c"),r=n.n(a);r.a},e4c0:function(t,e,n){"use strict";var a=n("c5cd"),r=n.n(a);r.a},ed17:function(t,e,n){},ed65:function(t,e,n){"use strict";var a=n("1f77"),r=n.n(a);r.a},ed88:function(t,e,n){},f17e:function(t,e,n){"use strict";var a=n("8531"),r=n.n(a);r.a}}]);