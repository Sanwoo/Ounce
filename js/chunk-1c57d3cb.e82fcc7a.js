(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c57d3cb"],{3428:function(e,t,n){e.exports=n.p+"img/login-bg.6bd7069a.jpg"},4765:function(e,t,n){},7101:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[e._m(0),n("div",{staticClass:"login-box"},[n("h3",[e._v("登录")]),n("div",{staticClass:"_input-group"},[n("label",{staticClass:"fa fa-user-o"}),n("input",{directives:[{name:"next-input",rawName:"v-next-input"},{name:"model",rawName:"v-model.number",value:e.login.phone,expression:"login.phone",modifiers:{number:!0}}],attrs:{type:"text",maxlength:"11",placeholder:"手机号码"},domProps:{value:e.login.phone},on:{input:function(t){t.target.composing||e.$set(e.login,"phone",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"_input-group"},[n("label",{staticClass:"fa fa-unlock-alt"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],attrs:{type:"password",maxlength:"14",placeholder:"密码"},domProps:{value:e.login.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginHandler(t)},input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}})]),n("p",[e._v("请使用网易云音乐账号，暂不开放注册")]),n("p",[e._v("详情致网易云音乐app")]),n("input",{staticClass:"_btn-login",attrs:{type:"button",value:"点击登录"},on:{click:e.loginHandler}})])])},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-banner"},[o("img",{attrs:{src:n("3428"),alt:""}})])}],s=(n("ac1f"),n("5319"),n("c24f")),i={name:"login",data:function(){return{login:{phone:"",password:""}}},computed:{isAllowedLogin:function(){var e=this.login,t=e.phone,n=e.password;return""!=t&&""!=n}},mounted:function(){this.$store.state.user.flag&&this.$router.replace("/home")},methods:{loginHandler:function(){var e=this;if(this.isAllowedLogin){var t={phone:this.login.phone,password:this.login.password};Object(s["d"])(t).then((function(t){if(200===t.data.code){var n=t.data;alert("登录成功~");var o={flag:!0,userid:n.account.id,token:n.token,cookie:n.cookie};sessionStorage.setItem("state",JSON.stringify(o)),e.$store.commit("setAccessToken",o),e.$router.replace("/home")}else alert(t.data.msg)}))}}}},r=i,l=(n("afa1"),n("2877")),c=Object(l["a"])(r,o,a,!1,null,"781cb2d1",null);t["default"]=c.exports},afa1:function(e,t,n){"use strict";var o=n("4765"),a=n.n(o);a.a}}]);