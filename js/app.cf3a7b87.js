(function(t){function e(e){for(var i,a,c=e[0],o=e[1],u=e[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},r={app:0},s=[];function c(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-1c57d3cb":"e82fcc7a","chunk-1e255a30":"8594153a","chunk-2ba83204":"535f4d48","chunk-2d4d15d9":"4e4fb520","chunk-4d932971":"427c624d","chunk-0eae6f74":"4570a867","chunk-37fce7df":"0e328137","chunk-4dc27cee":"e0ef4a53","chunk-5a7dd6e7":"b42f9f1e","chunk-6e74ae6b":"7079a45c","chunk-6f8ff070":"521e6377","chunk-85165ff2":"4f0c5712","chunk-938b7338":"764cbf29","chunk-cbe006d8":"6ec4dbca","chunk-cd875af4":"b7ecef0b","chunk-d3a21be2":"23ed9baa","chunk-1930fefc":"70100637","chunk-2d531a24":"f4936f3d","chunk-d4e02a00":"fbcf0b34","chunk-d7e03cf8":"ba9594a1","chunk-dfdb7a40":"0c485122","chunk-e2afb65a":"6d288477"}[t]+".js"}function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-1c57d3cb":1,"chunk-1e255a30":1,"chunk-2ba83204":1,"chunk-2d4d15d9":1,"chunk-0eae6f74":1,"chunk-37fce7df":1,"chunk-4dc27cee":1,"chunk-5a7dd6e7":1,"chunk-6e74ae6b":1,"chunk-6f8ff070":1,"chunk-85165ff2":1,"chunk-938b7338":1,"chunk-cbe006d8":1,"chunk-cd875af4":1,"chunk-1930fefc":1,"chunk-2d531a24":1,"chunk-d4e02a00":1,"chunk-d7e03cf8":1,"chunk-dfdb7a40":1,"chunk-e2afb65a":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var i="css/"+({}[t]||t)+"."+{"chunk-1c57d3cb":"6add1bea","chunk-1e255a30":"c8e2df43","chunk-2ba83204":"f5e93b9c","chunk-2d4d15d9":"003bd86e","chunk-4d932971":"31d6cfe0","chunk-0eae6f74":"e7d5e091","chunk-37fce7df":"30a42e78","chunk-4dc27cee":"052b98c6","chunk-5a7dd6e7":"c38716d3","chunk-6e74ae6b":"2beff989","chunk-6f8ff070":"613f62c9","chunk-85165ff2":"7f5507cd","chunk-938b7338":"e4d9132a","chunk-cbe006d8":"f7268a43","chunk-cd875af4":"b2d23f0f","chunk-d3a21be2":"31d6cfe0","chunk-1930fefc":"c5bf5cac","chunk-2d531a24":"3059c68f","chunk-d4e02a00":"9b381a41","chunk-d7e03cf8":"979ca53f","chunk-dfdb7a40":"7fc802c9","chunk-e2afb65a":"461acb9e"}[t]+".css",r=o.p+i,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===r))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===i||l===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var i=e&&e.target&&e.target.src||r,s=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete a[t],f.parentNode.removeChild(f),n(s)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[t]=0})));var i=r[t];if(0!==i)if(i)e.push(i[2]);else{var s=new Promise((function(e,n){i=r[t]=[e,n]}));e.push(i[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=c(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",d.name="ChunkLoadError",d.type=i,d.request=a,n[1](d)}r[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0349":function(t,e,n){"use strict";var i=n("37d1"),a=n.n(i);a.a},"0381":function(t,e,n){"use strict";var i=n("ce3f"),a=n.n(i);a.a},"060b":function(t,e,n){},"1afd":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"warrper",staticClass:"warrper"},[n("div",{staticClass:"content",class:{"content-x":t.scrollX,"content-y":t.scrollY}},[t._t("default")],2)])},a=[],r=(n("a9e3"),n("1fba")),s={name:"bscroll",props:{probeType:{type:Number,default:3},scrollX:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!1},freeScroll:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},momentum:{type:Boolean,default:!0},preventDefault:{type:Boolean,default:!1},leftStop:{type:Boolean,default:!1},rightStop:{type:Boolean,default:!1},data:{type:Array,default:null},listenScroll:{type:Boolean,default:!1},pullup:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20},pullDownRefresh:{type:Boolean||Object,default:!1},pullUpLoad:{type:Boolean||Object,default:!1},threshold:{type:Number,default:120}},data:function(){return{scroll:"",isStopPropagation:!1}},watch:{},mounted:function(){this.$nextTick(this.initScroll)},methods:{initScroll:function(){var t=this;if(this.$refs.warrper){var e=this.freeScroll,n=this.scrollX,i=this.scrollY,a=this.bounce,s=this.probeType,c=this.momentum,o=this.preventDefault,u=this.pullDownRefresh,l=this.threshold,d=this.pullUpLoad;this.scroll=new r["a"](this.$refs.warrper,{freeScroll:e,scrollX:n,scrollY:i,bounce:a,probeType:s,momentum:c,preventDefault:o,pullDownRefresh:u,pullUpLoad:d,threshold:l,stopPropagation:!0,click:!0}),this.listenScroll&&this.scroll.on("scroll",(function(e){return t.$emit("scroll",e)})),this.pullup&&this.scroll.on("scrollEnd",(function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")})),this.beforeScroll&&this.scroll.on("beforeScrollStart",(function(){return t.$emit("beforeScroll")}))}},dfEvent:function(){var t=this;this.scroll.on("scroll",(function(e){t.leftStop&&(t.scroll.options.stopPropagation=0===e.x),t.rightStop&&(t.scroll.options.stopPropagation=e.x===t.scroll.maxScrollX)}))}}},c=s,o=(n("0349"),n("2877")),u=Object(o["a"])(c,i,a,!1,null,"eac6b9e4",null);e["default"]=u.exports},"1bb0":function(t,e,n){},"1e2a":function(t,e,n){var i={"./home.routes.js":"669d","./login.routes.js":"c8bc"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id="1e2a"},"1f53":function(t,e,n){"use strict";var i=n("5cb9"),a=n.n(i);a.a},"20a5":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"contain",staticClass:"botload"},[t._t("default"),t._t("contain",null,{curdata:t.currentlist})],2)},a=[];n("fb6a"),n("a9e3");function r(t,e){var n=!0;return function(){var i=arguments,a=this;n&&(n=!1,setTimeout((function(){t.apply(a,i),n=!0}),e))}}var s={name:"botload",props:{data:Array,target:{type:String,default:""},perpage:{type:Number,default:5},fromBottom:{type:Number,default:20},isbind:{type:Boolean,default:!0}},data:function(){return{currentpage:1,flag:!0}},computed:{currentlist:function(){return this.data.length<=this.perpage?this.data:this.data.slice(0,this.perpage*this.currentpage)},bindDom:function(){return""===this.target?this.$refs.contain:document.querySelector(this.target)}},watch:{isbind:function(t){t?this.addEvent():this.removeEvent()}},mounted:function(){this.breakdata(),this.addEvent()},beforeDestroy:function(){this.removeEvent()},methods:{addEvent:function(){this.isbind&&this.bindDom.addEventListener("scroll",this.mainScroll,!1)},removeEvent:function(){this.bindDom.removeEventListener("scroll",this.mainScroll)},mainScroll:r((function(t){if(this.flag){var e=t.target,n=e.scrollHeight,i=e.clientHeight,a=e.scrollTop;n-i-a<this.fromBottom&&this.loadMore()}}),300),loadMore:function(){this.currentpage<=this.data.length/this.perpage?(this.currentpage++,this.breakdata()):(this.$toast("已经没有了嗷~"),this.flag=!1)},breakdata:function(){this.$emit("breakdata",this.currentlist)}}},c=s,o=(n("5bef"),n("2877")),u=Object(o["a"])(c,i,a,!1,null,"2c7c65d8",null);e["default"]=u.exports},"217f":function(t,e,n){"use strict";var i=n("3671"),a=n.n(i);a.a},"27c8":function(t,e,n){},"2e30":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"leave-active-class":"fadeOut"}},[n("div",{staticClass:"loading-block",style:{height:t.height}},[n("van-loading",{attrs:{size:"24px"}},[t._v(t._s(t.text))])],1)])},a=[],r={name:"LoadingBlock",props:{height:{type:String,default:"140px"},text:{type:String,default:"努力加载中..."}},data:function(){return{}},computed:{},mounted:function(){},methods:{}},s=r,c=(n("c420"),n("2877")),o=Object(c["a"])(s,i,a,!1,null,"23395be4",null);e["default"]=o.exports},3671:function(t,e,n){},"37d1":function(t,e,n){},"39f3":function(t,e,n){},"3c1b":function(t,e,n){},"3d37":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[t.value?n("div",{ref:"contain",staticClass:"movable-mask",class:t.containPos,on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("input",!1)}}},[t._t("default")],2):t._e()])},a=[],r={name:"movablemask",props:{getContainer:String,value:{type:Boolean,default:!1},position:{type:String,default:"center"}},watch:{value:{immediate:!0,handler:function(t){t&&this.getContainer&&this.$nextTick(this.moveDom)}}},computed:{containPos:function(){return"_".concat(this.position)}},methods:{moveDom:function(){var t=this.$refs.contain;document.querySelector(this.getContainer).appendChild(t)}}},s=r,c=(n("778c"),n("2877")),o=Object(c["a"])(s,i,a,!1,null,"230d061a",null);e["a"]=o.exports},"3d7d":function(t,e,n){"use strict";var i=n("1bb0"),a=n.n(i);a.a},4360:function(t,e,n){"use strict";var i=n("2b0e"),a=n("2f62"),r=(n("d3b7"),n("c24f")),s={state:sessionStorage.getItem("state")?JSON.parse(sessionStorage.getItem("state")):{flag:!1,userid:null,token:null,cookie:null},mutations:{setAccessToken:function(t,e){e.token!=t.token&&(t.flag=e.flag,t.token=e.token,t.userid=e.userid,t.cookie=e.cookie)},clearAccessToken:function(t){sessionStorage.clear(),location.reload()}},getters:{},actions:{signOut:function(t){var e=t.commit;return new Promise((function(t){Object(r["e"])().then((function(n){e("clearAccessToken"),t()}))}))}}},c=(n("c740"),n("a434"),n("3ca3"),n("ddb0"),n("5530")),o=n("d73f"),u=n("d399");i["a"].use(u["a"]);var l=localStorage.getItem("music_his")?JSON.parse(localStorage.getItem("music_his")):{curindex:null,curlist:[],curlistid:0,cururl:null,curMusicInfo:null},d={volume:.6,eventflag:!1,status:0,playerFlag:!1},f={state:Object(c["a"])(Object(c["a"])(Object(c["a"])({},l),d),{},{playhis:localStorage.getItem("play_his")?JSON.parse(localStorage.getItem("play_his")):[]}),getters:{curMusic:function(t){return t.curlist[t.curindex]},isLastItem:function(t){return t.curindex+1===t.curlist.length},isFirstItem:function(t){return 0===t.curindex},hasCurlist:function(t){return 0!=t.curlist.length},curlistLength:function(t){return t.curlist.length}},mutations:{changeCurlist:function(t,e){t.curlist=e.list,t.curlistid=e.id},changeCurindex:function(t,e){t.curindex=e},changeCurUrl:function(t,e){t.cururl=e,this.commit("curPlay")},changeEventflag:function(t,e){t.eventflag=e},changeCurMusicInfo:function(t,e){t.curMusicInfo=e},changePlayerFlag:function(t,e){t.playerFlag=e},addCurItem:function(t,e){null!==e&&-1===t.curlist.findIndex((function(t){return t.id===e.id}))&&t.curlist.unshift(e)},insertNextItem:function(t,e){if(null!==e){var n=t.curlist.findIndex((function(t){return t.id===e.id}));-1===n&&t.curlist.splice(t.curindex+1,0,e)}},addHisItem:function(t,e){null!==e&&-1===t.playhis.findIndex((function(t){return t.id===e.id}))&&(t.playhis.push(e),localStorage.setItem("play_his",JSON.stringify(t.playhis)))},curPlay:function(t){var e=document.getElementById("myaudio");t.status=0,e.oncanplay=function(n){t.status=1,e.play()}},musicPause:function(t){t.status=0,document.getElementById("myaudio").pause()},musicPlay:function(t){if(!this.getters.hasCurlist)return Object(u["a"])("没有歌单");var e=document.getElementById("myaudio");0===t.status?(e.play(),t.status=1):(e.pause(),t.status=0)},setMusicHis:function(t){var e={curindex:t.curindex,curlist:t.curlist,curlistid:t.curlistid,cururl:t.cururl,curMusicInfo:t.curMusicInfo};localStorage.setItem("music_his",JSON.stringify(e))},clearMusicHis:function(t){localStorage.clear()}},actions:{changeCurMusic:function(t,e){var n=t.state,i=t.dispatch,a=t.commit,r=Object(c["a"])({},n);!n.eventflag&&i("autoNextMusic"),null!=e.id&&n.curlistid!=e.id&&a("changeCurlist",e),n.curindex!=e.index||r.curlistid!=e.id?(a("changeCurindex",e.index),i("getMusic").catch((function(t){a("changeCurindex",r.curindex),a("changeCurlist",{list:r.curlist,id:r.curlistid})}))):a("musicPlay")},getMusic:function(t){var e=t.commit,n=t.getters;return new Promise((function(t,i){var a=n.curMusic.id;Promise.all([Object(o["e"])(a),Object(o["c"])(a)]).then((function(r){var s="https://music.163.com/song/media/outer/url?id=".concat(a,".mp3");e("changeCurMusicInfo",r[1].data.songs[0]),null!=s?(e("changeCurUrl",s),e("setMusicHis"),e("addHisItem",n.curMusic),t()):(Object(u["a"])("当前歌曲无版权"),i())}))}))},nextMusic:function(t){var e=t.state,n=t.dispatch,i=t.commit,a=t.getters;if(a.hasCurlist)if(1===a.curlistLength)Object(u["a"])("你和我，只有一首歌");else{var r=a.isLastItem?0:e.curindex+1;i("changeCurindex",r),n("getMusic").catch((function(t){return n("nextMusic")}))}else Object(u["a"])("你和我，没有歌")},prevMusic:function(t){var e=t.state,n=t.dispatch,i=t.commit,a=t.getters;if(a.hasCurlist)if(1===a.curlistLength)Object(u["a"])("你和我，只有一首歌");else{var r=(a.isFirstItem?e.curlist.length:e.curindex)-1;i("changeCurindex",r),n("getMusic").catch((function(t){return n("prevMusic")}))}else Object(u["a"])("你和我，没有歌")},autoNextMusic:function(t){var e=t.commit,n=(t.getters,t.state,t.dispatch),i=document.getElementById("myaudio");e("changeEventflag",!0),i.addEventListener("ended",(function(t){return n("nextMusic")}))},newMusic:function(t,e){var n=t.commit,i=t.dispatch,a=e.info,r=e.obj;return a||r?new Promise((function(t){n("addCurItem",a),i("changeCurMusic",r),t()})):""}}};i["a"].use(a["a"]);e["a"]=new a["a"].Store({state:{loading:!0},mutations:{},actions:{},modules:{user:s,music:f}})},"466f":function(t,e,n){"use strict";n("4360")},"4ed1":function(t,e,n){"use strict";var i=n("f7b8"),a=n.n(i);a.a},"51b7":function(t,e,n){"use strict";var i=n("64c8"),a=n.n(i);a.a},5401:function(t,e,n){"use strict";var i=n("39f3"),a=n.n(i);a.a},"548c":function(t,e,n){},"54e9":function(t,e,n){"use strict";var i=n("919c"),a=n.n(i);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("transition",{attrs:{"leave-active-class":"animated fadeOut"}},[t.load.flag?t._e():i("div",{staticClass:"app-banner"},[i("img",{attrs:{src:n("790c"),alt:""}}),i("span",[t._v("加载中 "+t._s(t.load.time)+"s")])])]),i("transition",{attrs:{name:t.transitionName}},[i("keep-alive",{attrs:{exclude:t.routeExclude}},[i("router-view")],1)],1),i("AAleart"),i("RequestLoader",{attrs:{visiable:!t.$store.state.loading}}),i("TabPlayer")],1)},r=[],s=(n("c975"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{"enter-active-class":"slideInDown","leave-active-class":"slideOutUp"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.aalert.flag,expression:"aalert.flag"}],attrs:{id:"aalert"},on:{mouseenter:t.stopAlertFade,mouseleave:t.startAlertFade}},[i("div",[i("img",{attrs:{src:n("6d1b"),alt:""}}),i("div",[i("a",{staticClass:"van-icon van-icon-location"},[t._v(t._s(t.currentDate))]),i("p",[t._v(t._s(t.aalert.text))])])]),i("i",{staticClass:"van-icon van-icon-bullhorn-o"})])])}),c=[],o=(n("99af"),{name:"aalert",data:function(){return{aalert:{flag:!1,timer:"",text:""}}},mounted:function(){var t=this;window.alert=function(e){t.aalert.flag=!0,setTimeout((function(){return t.aalert.text=e})),t.aalert.timer=setTimeout((function(){return t.aalert.flag=!1}),2e3)}},computed:{currentDate:function(){var t=new Date,e=["日","一","二","三","四","五","六"],n=e[t.getDay()];return"周".concat(n," ").concat(t.getHours(),":").concat(t.getMinutes())}},methods:{stopAlertFade:function(){clearTimeout(this.aalert.timer)},startAlertFade:function(){var t=this;this.aalert.timer=setTimeout((function(){return t.aalert.flag=!1}),1e3)}}}),u=o,l=(n("d322"),n("2877")),d=Object(l["a"])(u,s,c,!1,null,"632d1acc",null),f=d.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visiable,expression:"visiable"}],staticClass:"request-loader"},[n("div",{staticClass:"la-line-scale-pulse-out"},[n("div"),n("div"),n("div"),n("div"),n("div")])])])},p=[],m={name:"requestloader",props:{visiable:{type:Boolean,default:!1}}},v=m,g=(n("dda4"),Object(l["a"])(v,h,p,!1,null,"5d8e47b2",null)),b=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"slideInUp","leave-active-class":"slideOutDown"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.containflag,expression:"containflag"}],ref:"tabplayer",staticClass:"tab-player",class:{"_active-contain":t.switchflag},on:{click:function(e){t.switchflag=!0}}},[n("transition",{attrs:{"enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.switchflag,expression:"switchflag"}],staticClass:"_banner",style:{backgroundImage:"url("+t.curMusicCover+")"}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.lyricflag,expression:"!lyricflag"}],staticClass:"_info",class:{"_active-info":t.switchflag}},[n("p",{class:[t.switchflag?"paragraph-truncate":"text-truncate"]},[t._v(" "+t._s(t.musicName)+" ")]),n("p",{staticClass:"text-truncate",on:{click:t.toSingerDetail}},[t._v(t._s(t.singerName))])]),n("TpCover",{directives:[{name:"show",rawName:"v-show",value:!t.lyricflag,expression:"!lyricflag"}]}),n("TpCricleProgress",{directives:[{name:"show",rawName:"v-show",value:t.switchflag&&!t.lyricflag,expression:"switchflag && !lyricflag"}],ref:"tpcprogress"}),n("TpControl",{directives:[{name:"show",rawName:"v-show",value:!t.lyricflag,expression:"!lyricflag"}]}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.lyricflag&&t.switchflag,expression:"!lyricflag && switchflag"}],staticClass:"_tools"},[n("TpProgress",{attrs:{audio:t.audio,dom:t.$refs.myaudio,visiable:!t.lyricflag&&t.switchflag}}),n("TpTools",{attrs:{song:t.curMusic}})],1),n("TpLyric",{directives:[{name:"show",rawName:"v-show",value:t.lyricflag,expression:"lyricflag"}]}),n("TpLists",{directives:[{name:"show",rawName:"v-show",value:t.switchflag,expression:"switchflag"}],ref:"tplists",on:{visiable:t.tpListsVisiable}}),n("MovableMask",{directives:[{name:"prevent-back",rawName:"v-prevent-back",value:t.closeSingerSelector,expression:"closeSingerSelector"}],attrs:{"get-container":"#app"},model:{value:t.singer.selectVisiable,callback:function(e){t.$set(t.singer,"selectVisiable",e)},expression:"singer.selectVisiable"}},[n("RadioItems",{model:{value:t.singer.selectId,callback:function(e){t.$set(t.singer,"selectId",e)},expression:"singer.selectId"}},t._l(t.singer.selectList,(function(e,i){return n("SingerRadioItem",{key:e.id,attrs:{name:i},nativeOn:{click:function(e){return t.singerHandler(e)}}},[t._v(t._s(e.name))])})),1)],1),n("audio",{ref:"myaudio",attrs:{src:t.musicUrl,id:"myaudio"}})],1)])},w=[],k=(n("4160"),n("caad"),n("a15b"),n("d81d"),n("b0c0"),n("b680"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-player-lists",style:{transform:"translateY("+t.offsetY+")"},on:{click:t.open}},[n("div",{ref:"contain",staticClass:"_contain",class:{"_contain-transition":t.transflag},style:{transform:"translate3d("+t.contain.leftX+"px,0,0)"},on:{touchstart:function(e){return e.stopPropagation(),t.touchStart(e)},touchmove:function(e){return e.stopPropagation(),t.touchMove(e)},touchend:function(e){return e.stopPropagation(),t.touchEnd(e)}}},t._l(t.lists,(function(e,i){return n("div",{key:i,staticClass:"_contain-item",class:{"item-prev":t.contain.index-1===i,"item-next":t.contain.index+1===i}},[n(e,{tag:"div"})],1)})),0),n("ul",{staticClass:"_nav"},t._l(t.lists,(function(e,i){return n("li",{key:i,class:{"li-active":t.contain.index===i}})})),0)])}),_=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.reloadflag?n("div",{staticClass:"tab-player-curlist"},[n("div",{staticClass:"_title"},[n("b",[t._v("当前播放")]),n("a",[t._v("("+t._s(t.list.length)+")")])]),t.hasList?n("BotLoadAudioList",{staticClass:"_contain",attrs:{type:"item",data:t.list,listid:t.listId,perpage:10}}):t._e()],1):t._e()},C=[],S={name:"tabplayercurlist",data:function(){return{reloadflag:!0}},computed:{list:function(){return this.$store.state.music.curlist},listId:function(){return this.$store.state.music.curlistid},hasList:function(){return this.list.length>0}},watch:{list:function(t,e){this.reload()}},methods:{changeMusic:function(t){var e={list:this.list,id:this.listId,index:t};this.$store.dispatch("changeCurMusic",e)},reload:function(){var t=this;this.reloadflag=!1,setTimeout((function(){t.reloadflag=!0}))}}},O=S,$=(n("616d"),Object(l["a"])(O,x,C,!1,null,"27bc867a",null)),M=$.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.reloadflag?n("div",{staticClass:"tab-player-hislist"},[n("div",{staticClass:"_title"},[n("b",[t._v("历史播放")]),n("a",[t._v("("+t._s(t.list.length)+")")])]),t.hasList?n("BotLoadAudioList",{staticClass:"_contain",attrs:{type:"item",data:t.list,listid:t.listId,perpage:10}}):t._e()],1):t._e()},j=[],E={name:"tabplayerhislist",data:function(){return{curlist:[],listId:-1,reloadflag:!0}},computed:{list:function(){return this.$store.state.music.playhis},hasList:function(){return this.list.length>0}},watch:{list:function(t,e){this.reload()}},methods:{curlistHandler:function(t){this.curlist=t},changeMusic:function(t){var e={list:this.list,id:-1,index:t};this.$store.dispatch("changeCurMusic",e)},reload:function(){var t=this;this.reloadflag=!1,setTimeout((function(){t.reloadflag=!0,t.curlist=[]}))}}},T=E,I=(n("54e9"),Object(l["a"])(T,L,j,!1,null,"6a6ea6dc",null)),N=I.exports,P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},B=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-player-oldlist"},[n("div",{staticClass:"_title"},[n("b",[t._v("上次播放")]),n("a",[t._v("(0)")])]),n("div",{staticClass:"_contain"})])}],D={name:"tabplayeroldlist",components:{},data:function(){return{}},mounted:function(){},methods:{}},H=D,A=(n("da7f"),Object(l["a"])(H,P,B,!1,null,"f74cd168",null)),q=A.exports,Y={name:"tabplayerlists",components:{TpCurList:M,TpHisList:N,TpOldList:q},data:function(){return{contain:{wid:window.innerWidth,leftX:0,offsetX:0,index:0},touch:{startX:0,moveX:0,endX:0,startY:0,moveY:0,endY:0},transflag:!0,visiable:!1,offsetY:"80%",lists:["TpCurList","TpHisList","TpOldList"]}},watch:{visiable:function(t){var e=this;this.$emit("visiable",t),this.offsetY=t?"0":"80%",t?setTimeout((function(t){document.addEventListener("click",e.dfBreak)}),500):document.removeEventListener("click",this.dfBreak)}},methods:{touchStart:function(t){this.touch.startX=t.targetTouches[0].pageX,this.transflag=!1},touchMove:function(t){var e=t.targetTouches[0],n=e.pageX-this.touch.startX+this.contain.offsetX;this.contain.leftX=Math.min(0,Math.max(n,-(this.$refs.contain.clientWidth-this.contain.wid)))},touchEnd:function(t){this.touch.endX=t.changedTouches[0].pageX;var e=this.touch.endX-this.touch.startX,n=.4*this.contain.wid;Math.abs(e)>n&&(e<0&&this.nextCard(),e>0&&this.prevCard()),this.transflag=!0,this.contain.leftX=-this.contain.index*this.contain.wid,this.contain.offsetX=this.contain.leftX},nextCard:function(){2!=this.contain.index&&this.contain.index++},prevCard:function(){0!=this.contain.index&&this.contain.index--},close:function(){this.visiable=!1},open:function(){this.visiable=!0},dfBreak:function(){window.history.back()}}},F=Y,R=(n("51b7"),Object(l["a"])(F,k,_,!1,null,"14c21920",null)),X=R.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"_cricle-progress"},[n("canvas",{ref:"canvasbar",staticClass:"canvas-bar"})])},V=[],W={name:"tpcricleprogress",methods:{canvasInit:function(){var t=this.$refs.canvasbar,e=t.getContext("2d"),n=this.$parent.$refs.myaudio,i=t.width=300,a=t.height=300,r=6,s=i/2,c=140,o=0,u=o+1.5*Math.PI,l=Math.PI/180*1,d=o;(function(){if(!(d>=u)){if(d+l>u)d=u;else{var t=n.currentTime/n.duration;d=u*t}e.clearRect(0,0,i,a),e.beginPath(),e.lineWidth=r;var f=e.createLinearGradient(0,0,300,0);f.addColorStop("0","#68F9E4"),f.addColorStop("1.0","#0BDFEC"),e.strokeStyle=f,e.shadowBlur=6,e.shadowColor="#0BDFEC",e.arc(s,s,c,o,d),e.stroke(),e.closePath()}})()}}},z=W,J=(n("217f"),Object(l["a"])(z,U,V,!1,null,"19991f75",null)),K=J.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"_control",class:{"_active-control":t.switchflag}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.switchflag,expression:"!switchflag"}],staticClass:"van-icon _control-islike",class:[t.islike?"van-icon-like":"van-icon-like-o"],on:{click:function(e){return e.stopPropagation(),t.islikeHandler(e)}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:t.switchflag,expression:"switchflag"}],staticClass:"fa fa-backward",class:{"_active-control-span":t.switchflag},on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("prevMusic")}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.switchflag,expression:"switchflag"}],staticClass:"_control-play",on:{click:function(e){return t.$store.commit("musicPlay")}}},[n("van-icon",{attrs:{name:t.muscicStatus}})],1),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.switchflag,expression:"!switchflag"}]}),n("span",{staticClass:"fa fa-forward",class:{"_active-control-span":t.switchflag},on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("nextMusic")}}})])},G=[],Q=n("c24f"),tt={name:"tpcontrol",data:function(){return{islike:!1,likelist:[]}},inject:["user"],computed:{switchflag:function(){return this.$parent.switchflag},muscicStatus:function(){return this.$parent.muscicStatus},curMusic:function(){return this.$parent.curMusic}},watch:{"$parent.musicUrl":{immediate:!0,handler:function(t){null!=t&&this.islikeJudge()}},likelist:function(t){null!=this.curMusic&&this.islikeJudge()}},mounted:function(){this.mainRequest()},methods:{mainRequest:function(){var t=this;this.user.flag&&Object(Q["n"])(this.user.userid).then((function(e){t.likelist=e.data.ids}))},islikeJudge:function(){if(this.user.flag){var t=this.likelist.indexOf(this.curMusic.id);this.islike=-1!==t}},islikeHandler:function(){var t=this;if(!this.user.flag)return this.$toast("请先登录");var e={id:this.curMusic.id,like:!this.islike};Object(Q["h"])(e).then((function(e){t.mainRequest()}))}}},et=tt,nt=(n("d302"),Object(l["a"])(et,Z,G,!1,null,"3c2fe996",null)),it=nt.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"cover",staticClass:"_cover",class:{"_active-content":t.switchflag},style:{transform:"translate("+t.cover.x+"px,"+t.cover.y+"px)"},on:{click:function(e){return e.stopPropagation(),t.contentHandler(e)}}},[n("div",{staticClass:"_cover-cover",class:{"_active-content-cover":t.switchflag}},[n("img",{attrs:{src:t.curMusicCover+t.imgSize,alt:""}}),n("van-icon",{directives:[{name:"show",rawName:"v-show",value:!t.switchflag,expression:"!switchflag"}],attrs:{name:t.muscicStatus}})],1)])},rt=[],st={name:"tpcover",computed:{switchflag:function(){return this.$parent.switchflag},curMusicCover:function(){return this.$parent.curMusicCover},muscicStatus:function(){return this.$parent.muscicStatus},cover:function(){return this.$parent.cover}},data:function(){return{imgSize:"?param=600y600"}},methods:{contentHandler:function(){this.switchflag?this.$parent.openLyric():this.$store.commit("musicPlay")}}},ct=st,ot=(n("57ad"),Object(l["a"])(ct,at,rt,!1,null,"079a09c1",null)),ut=ot.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[n("div",{staticClass:"tplyric"},[n("div",{staticClass:"tp_title"},[n("p",{staticClass:"text-truncate"},[t._v(t._s(t.$parent.musicName))]),n("span",[t._v(t._s(t.$parent.singerName))])]),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.$parent.closeLyric,expression:"$parent.closeLyric"}],ref:"lyricer",staticClass:"tp_lyric"},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.hasLyric,expression:"hasLyric"}],ref:"contain",staticClass:"tp_lyric-contain",class:{"_contain-trans":t.transflag},style:{transform:"translate3d(0,"+t.contain.topY+"px,0)"},on:{touchstart:t.touchStart,touchmove:t.touchmove,touchend:t.touchEnd}},t._l(t.lyric,(function(e,i){return n("li",{key:i,class:{"li-active":i===t.contain.index-1}},[n("p",[t._v(t._s(e.text))]),n("p",[t._v(t._s(e.ttext))])])})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasLyric,expression:"!hasLyric"}],staticClass:"tp_lyric-none"},[t._v("纯音乐")]),n("transition",{attrs:{"enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.transflag&&t.hasLyric,expression:"!transflag && hasLyric"}],staticClass:"tp_lyric-line",on:{click:t.changeCurTime}},[n("span",[t._v("00:00")])])])],1)])])},dt=[],ft=(n("c740"),n("a434"),n("a9e3"),n("d3b7"),n("ac1f"),n("466d"),n("5319"),n("1276"),n("498a"),n("2909")),ht=n("d73f"),pt={name:"tplyric",data:function(){return{lyric:[],lyricerH:0,transflag:!0,throttleflag:!0,itemhei:60,timer:null,contain:{topY:0,hei:0,offsetY:0,index:0},touch:{startY:0,endY:0}}},watch:{"$parent.musicUrl":{immediate:!0,handler:function(t){this.contain.index=0,null!=t&&this.getLyric()}},"contain.index":function(t){this.changeCurIndex(t)},"contain.topY":function(t){this.transflag&&(this.contain.offsetY=t)}},computed:{curMusic:function(){return this.$parent.curMusic},hasLyric:function(){return this.lyric.length>1},audioDom:function(){return this.$parent.$refs.myaudio}},mounted:function(){this.lyricerH=Math.round(.7*window.innerHeight),this.audioDom.addEventListener("timeupdate",this.lyricAuto)},beforeDestroy:function(){this.audioDom.removeEventListener("timeupdate",this.lyricAuto)},methods:{getLyric:function(){var t=this;Object(ht["d"])(this.curMusic.id).then((function(e){"undefined"!=typeof e.data.lrc&&e.data.lrc.lyric.length>1?t.lyricTrans(e.data.lrc.lyric).then((function(){0!=e.data.tlyric.version&&t.tlyricTrans(e.data.tlyric.lyric)})):t.lyric.splice(0)}))},lyricTrans:function(t){var e=this;return new Promise((function(n){var i=t.split(/[\n]/g).map((function(t){var n=t.match(/\[([^)]*)\]/),i=t.replace(/\[([^)]*)\]/,"").trim();return null!=n&&(n=e.timeToMs(n[1])),{text:i,time:parseInt(n),real_time:n,ttext:""}}));e.lyric=i,e.getContainHei(),n()}))},tlyricTrans:function(t){var e=this;t.split(/[\n]/g).forEach((function(t,n){e.lyric[n].ttext=t.replace(/\[([^)]*)\]/,"").trim()}))},getContainHei:function(){var t=this;this.$nextTick((function(){t.contain.hei=t.lyricerH+t.lyric.length*t.itemhei,t.$refs.contain.style.padding="".concat(t.lyricerH/2,"px 0")}))},touchStart:function(t){this.touch.startY=t.targetTouches[0].pageY,this.transflag=!1},touchmove:function(t){var e=t.targetTouches[0],n=e.pageY-this.touch.startY+this.contain.offsetY;this.contain.topY=Math.min(0,Math.max(n,-(this.contain.hei-this.lyricerH)))},touchEnd:function(t){var e=this;this.touch.endY=t.changedTouches[0].pageY,this.contain.offsetY=this.contain.topY,this.debounce((function(){e.transflag=!0,e.changeCurIndex(e.contain.index)}),2e3)},debounce:function(t,e){null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(t,e)},throttle:function(t,e){var n=this;this.throttleflag&&(this.throttleflag=!1,setTimeout((function(){t(),n.throttleflag=!0}),e))},timeToMs:function(t){var e=t.split(":");return 2===e.length&&(e=[e[0]].concat(Object(ft["a"])(e[1].split("."))).map((function(t){return Number(t)}))),e="".concat(parseInt(e[0]*this.itemhei+e[1]),".").concat(e[2]),Number(e)||0},changeCurTime:function(){var t=this.$parent.$refs.myaudio,e=Math.abs(parseInt(this.contain.topY/this.itemhei));this.contain.index=e,t.currentTime=this.lyric[e-1].time,t.play()},changeCurIndex:function(t){var e=-t*this.itemhei;this.contain.topY=e,this.contain.offsetY=e},lyricAuto:function(t){var e=this;this.transflag&&this.throttle((function(){var n=t.target.currentTime,i=e.lyric.findIndex((function(t){return n>=t.time-.1&&n<=t.time+.4}));-1!=i&&(e.contain.index=i+1)}),30)}}},mt=pt,vt=(n("4ed1"),Object(l["a"])(mt,lt,dt,!1,null,"b47ac20c",null)),gt=vt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-player-progress"},[n("div",{staticClass:"_progress-text"},[n("span",[t._v(t._s(t._f("sToMs")(t.audio.current)))]),n("span",[t._v(t._s(t._f("sToMs")(t.audio.total)))])]),n("div",{ref:"progress",staticClass:"_progress-contain",on:{touchend:t.touchEnd}},[n("div",{staticClass:"_inner",style:{width:t.curProgress+"px"}})])])},yt=[],wt=(n("25f0"),{name:"TpProgress",props:{audio:Object,dom:HTMLAudioElement,visiable:Boolean},filters:{sToMs:function(t){var e=parseInt((t%3600/60).toString()),n=parseInt((t%3600%60).toString());return e=e<10?"0"+e:e,n=n<10?"0"+n:n,e+":"+n}},data:function(){return{progress:{clientWidth:0,offsetX:0}}},watch:{visiable:{immediate:!0,handler:function(t){t&&this.initData()}}},computed:{curProgress:function(){var t=this.progress.clientWidth,e=void 0===t?0:t,n=this.audio,i=n.total,a=void 0===i?0:i,r=n.current,s=void 0===r?0:r;return parseInt(e/a*s)||0}},methods:{initData:function(){var t=this.$refs.progress;t=t.getBoundingClientRect(),this.progress.clientWidth=t.width,this.progress.offsetX=t.x},touchEnd:function(t){var e=t.changedTouches[0],n=this.progress.clientWidth,i=e.clientX-this.progress.offsetX;this.dom.currentTime=i/n*this.audio.total}}}),kt=wt,_t=(n("1f53"),Object(l["a"])(kt,bt,yt,!1,null,"39434914",null)),xt=_t.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-player-tools"},t._l(t.items,(function(e,i){return n("van-icon",{key:i,staticClass:"_items",attrs:{name:e.icon},on:{click:function(n){return n.stopPropagation(),t.fnHanlder(e.fn)}}})})),1)},St=[],Ot={name:"TpTools",props:{song:Object},data:function(){return{items:[{icon:"like-o",fn:"df"},{icon:"share",fn:"df"},{icon:"down",fn:"df"},{icon:"chat-o",fn:"toComment"},{icon:"ellipsis",fn:"df"}]}},computed:{},mounted:function(){},methods:{fnHanlder:function(t){return this.$parent.close(),this[t]()},toComment:function(){var t=this.song.id,e=void 0===t?0:t;0!==e&&this.$router.push("/home/songcomment?id=".concat(e))},df:function(){}}},$t=Ot,Mt=(n("6404"),Object(l["a"])($t,Ct,St,!1,null,"cf734ed2",null)),Lt=Mt.exports,jt=n("c243"),Et=n("ec8f"),Tt=n("3d37"),It={name:"tabplayer",components:{TpLists:X,TpCricleProgress:K,TpControl:it,TpProgress:xt,TpCover:ut,TpLyric:gt,TpTools:Lt,RadioItems:jt["a"],MovableMask:Tt["a"],SingerRadioItem:Et["a"]},inject:["user"],data:function(){return{containflag:!0,eventflag:!1,switchflag:!1,tpListsflag:!1,cover:{y:-20,x:-46},audio:{total:0,current:0},screen:{width:0},lyricflag:!1,singer:{selectId:0,selectList:[],selectVisiable:!1}}},watch:{$route:{immediate:!0,handler:function(t){var e=["/home/mvdetail","/home/userdetail/usersonglist"];this.containflag=!e.includes(t.path)}},musicUrl:{immediate:!0,handler:function(t){var e=this;null==t||this.eventflag||this.$nextTick((function(){e.monitorMusic(),e.eventflag=!0}))}},switchflag:{immediate:!0,handler:function(t){this.screenAnmHandler(t),this.$store.commit("changePlayerFlag",t)}},breakFlags:function(t){var e=this.compareLastUnsame(t,[!1,!1,!1]),n=["close","closeTpLists","closeLyric"][e];-1!=e&&("playerbreak"!=window.history.state&&window.history.pushState("playerbreak",null,null),window.onpopstate=this[n])}},computed:{musicUrl:function(){return this.$store.state.music.cururl},muscicStatus:function(){return 0===this.$store.state.music.status?"play":"pause"},curMusic:function(){return this.$store.state.music.curMusicInfo},fullMusicName:function(){var t=this.curMusic;if(null==t)return"";var e=t.alia[0],n=t.ar.map((function(t){return t.name})).join("/");return"undefined"!=typeof e?"".concat(t.name,"(").concat(e,") - ").concat(n):"".concat(t.name," - ").concat(n)},singerName:function(){var t=this.curMusic;if(null==t)return"";var e=t.ar.map((function(t){return t.name})).join("/");return e},singerId:function(){var t=this.curMusic;return null==t?"":t.ar[0].id},musicName:function(){var t=this.curMusic;if(null==t)return"";var e=t.alia[0];return"undefined"!=typeof e?"".concat(t.name,"(").concat(e,")"):"".concat(t.name)},curMusicCover:function(){var t="?param=711y400",e="http://p1.music.126.net/Vxsf58sMyNjqnWVZa9Wbfw==/18991864347187831.jpg";return null!=this.curMusic?this.curMusic.al.picUrl+t:e+t},breakFlags:function(){return[this.switchflag,this.tpListsflag,this.lyricflag]}},mounted:function(){this.screen.width=window.innerWidth,this.$bus.on("playerOpen",this.open)},beforeDestroy:function(){this.$refs.myaudio.removeEventListener("timeupdate",this.progressBarHandler),this.$bus.off("playerOpen",this.open)},methods:{monitorMusic:function(){var t=this.$refs.myaudio;t.volume=this.$store.state.music.volume,t.addEventListener("timeupdate",this.progressBarHandler)},progressBarHandler:function(t){var e=t.target;this.audio.total!=e.duration&&(this.audio.total=e.duration.toFixed(2)),this.audio.current=e.currentTime.toFixed(2),this.$refs.tpcprogress.canvasInit()},toSingerDetail:function(t){if(this.switchflag){t.stopPropagation();var e=this.curMusic.ar;e.length>1?(this.singer.selectVisiable=!0,this.singer.selectList=e):(this.close(),this.toMainPage("/home/singerdetail",this.singerId))}},singerHandler:function(){var t=this.singer,e=t.selectId,n=t.selectList;this.closeSingerSelector(),this.close(),this.toMainPage("/home/singerdetail",n[e].id)},closeSingerSelector:function(){this.singer.selectVisiable=!1},close:function(){this.switchflag=!1},open:function(){this.switchflag=!0},closeLyric:function(){this.lyricflag=!1},closeTpLists:function(){this.$refs.tplists.close()},openLyric:function(){this.lyricflag=!0},dfBreak:function(){window.history.back()},compareLastUnsame:function(t,e){var n=-1;return t.forEach((function(t,i){t!=e[i]&&(n=i)})),n},tpListsVisiable:function(t){this.tpListsflag=t},screenAnmHandler:function(t){if(t){var e=this.$refs.tabplayer;this.$refs.cover;this.cover.x=-(e.clientWidth-240)/2,this.cover.y=-(window.innerHeight-240-50)}else this.cover.x=-46,this.cover.y=-20}}},Nt=It,Pt=(n("0381"),Object(l["a"])(Nt,y,w,!1,null,"1721959c",null)),Bt=Pt.exports,Dt={name:"app",components:{AAleart:f,RequestLoader:b,TabPlayer:Bt},provide:function(){return{user:this.$store.state.user}},data:function(){return{transitionName:"",routeExclude:"",load:{time:3,flag:!0}}},watch:{$route:function(t,e){var n=["/","/home","/login"],i=n.indexOf(t.path),a=n.indexOf(e.path);-1!==i&&-1!==a&&(this.transitionName=i>a?"flod-left":"flod-right")}},mounted:function(){this.mainLoad()},methods:{appBreakLis:function(){var t=this;document.addEventListener("plusready",(function(){var e=plus.webview.currentWebview(),n=null;plus.key.addEventListener("backbutton",(function(){e.canBack((function(t){return t.canBack?e.back():e.close()})),"home"!=t.$route.path&&"/"!=t.$route.path||(n?(new Date).getTime()-n<1e3&&plus.runtime.quit():(n=(new Date).getTime(),plus.nativeUI.toast("再按一次退出程序"),setTimeout((function(){return n=null}),1e3)))}))}),!1)},mainLoad:function(){var t=this,e=setInterval((function(n){0===t.load.time--&&(clearInterval(e),t.load.flag=!0)}),1e3)}}},Ht=Dt,At=(n("7c55"),Object(l["a"])(Ht,a,r,!1,null,null,null)),qt=At.exports,Yt=(n("ddb0"),n("8c4f")),Ft=[];function Rt(t){t.keys().forEach((function(e){Ft.push(t(e).default)}))}Rt(n("1e2a")),i["a"].use(Yt["a"]);var Xt=[{path:"/",component:function(){return Promise.all([n.e("chunk-d3a21be2"),n.e("chunk-d4e02a00")]).then(n.bind(null,"1c62"))},meta:{title:"Starry"}}].concat(Ft),Ut=new Yt["a"]({routes:Xt});Ut.beforeEach((function(t,e,n){n()}));var Vt=Ut,Wt=n("4360"),zt=n("bc3a"),Jt=n.n(zt),Kt=(n("157a"),n("e41f")),Zt=n("6e47"),Gt=n("ad06"),Qt=n("8ad4"),te=n("b650"),ee=n("5596"),ne=n("2bb1"),ie=n("f564"),ae=n("d399"),re=n("0b33"),se=n("5e46"),ce=n("565f"),oe=n("48bd"),ue=n("28a2"),le=n("543e"),de=n("f0ca"),fe=n("58e6"),he=n("5d26"),pe=n("3104"),me=n("a37c"),ve=n("ee83"),ge=n("1125"),be=[Kt["a"],Zt["a"],Gt["a"],Qt["a"],te["a"],ee["a"],ne["a"],ie["a"],ae["a"],re["a"],se["a"],ce["a"],oe["a"],ue["a"],le["a"],de["a"],fe["a"],he["a"],pe["a"],me["a"],ve["a"],ge["a"]];be.forEach((function(t){var e=[];!e.includes(t)&&i["a"].use(t)}));n("fb6a");var ye=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},we=n("b826");we.keys().forEach((function(t){var e=we(t),n=ye(t.replace(/^\.\//,"").replace(/\.\w+$/,""));i["a"].component(n,e.default||e)}));var ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[t.visible?n("div",{attrs:{id:"adialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleAction("no")}}},[n("div",{staticClass:"adialog-contain"},[n("p",{staticClass:"adialog-contain-title"},[t._v("提示")]),n("div",{staticClass:"adialog-contain-msg"},[t._v(t._s(t.content))]),n("div",{staticClass:"adialog-contain-btngroup"},[n("input",{attrs:{type:"button",value:"取消"},on:{click:function(e){return t.handleAction("no")}}}),n("input",{attrs:{type:"button",value:"确定"},on:{click:function(e){return t.handleAction("yes")}}})])])]):t._e()])},_e=[],xe={name:"adialog",data:function(){return{visible:!1,content:"",promiseStatus:null}},mounted:function(){window.history.pushState(null,null,document.URL),window.onpopstate=this.handleAction.bind(null,"no")},methods:{confirm:function(){var t=this;return this.visible=!0,new Promise((function(e,n){t.promiseStatus={resolve:e,reject:n}}))},handleAction:function(t){this.visible=!1,"yes"==t&&this.promiseStatus&&this.promiseStatus.resolve()}}},Ce=xe,Se=(n("c9c5"),Object(l["a"])(Ce,ke,_e,!1,null,null,null)),Oe=Se.exports,$e=i["a"].extend(Oe);Oe.install=function(t,e){e=Object.assign({content:t},e);var n=new $e({data:e}).$mount();return document.body.appendChild(n.$el),n.confirm()},i["a"].prototype.$aconfirm=Oe.install;n("4de4"),n("b64b");var Me={numFormat:function(t){return t=t.toString(),t.length>4?"".concat(t.substr(0,t.length-4),"万"):t},msToYmd:function(t){var e=new Date(t);return"".concat(e.getFullYear(),".").concat(e.getMonth()+1,".").concat(e.getDate())}};Object.keys(Me).forEach((function(t){return i["a"].filter(t,Me[t])}));n("4d90");var Le={install:function(t,e){window.debouncetimer=null,window.throttleflag=!0,Object.assign(t.prototype,{getPresentDate:function(){var t=new Date,e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),a=e+"-"+n+"-"+i;return a},getFullPresentDate:function(){var t=new Date,e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),a=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0");return e+"."+n+"."+i+" "+a+":"+r},toMainPage:function(t,e){this.$route.path===t&&this.$route.query.id===e||("undefined"!=typeof e?this.$router.push("".concat(t,"?id=").concat(e)):this.$router.push(t))},debounce:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;null!=window.debouncetimer&&clearTimeout(window.debouncetimer),window.debouncetimer=setTimeout(t,e)},throttle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;window.throttleflag&&(window.throttleflag=!1,setTimeout((function(){t(),window.throttleflag=!0}),e))}})}},je=(n("a630"),n("3ca3"),{install:function(t){t.directive("scrollTop",{bind:function(t,e){var n=!0;t.scorlltop=function(t){n&&(n=!1,setTimeout((function(){var i=t.target.scrollTop;0===i?e.value(!0):e.value(!1),n=!0}),100))},t.addEventListener("scroll",t.scorlltop)},unbind:function(t){t.removeEventListener("scroll",t.scorlltop),delete t.scorlltop}}),t.directive("scrollBottom",{bind:function(t,e){var n=!0,i=!0;t.scorllbottom=function(t){i&&(i=!1,setTimeout((function(){var a=t.target.scrollTop,r=t.target.offsetHeight,s=t.target.scrollHeight;a+r===s&&n?(e.value(),n=!1):n=!0,i=!0}),100))},t.addEventListener("scroll",t.scorllbottom)},unbind:function(t){t.removeEventListener("scroll",t.scorllbottom),delete t.scorllbottom}}),t.directive("lazyload",{bind:function(t,e){var n=!0,i=!0;t.scorllbottom=function(t){i&&(i=!1,setTimeout((function(){var a=t.target.scrollTop,r=t.target.offsetHeight,s=t.target.scrollHeight;a+r+100>=s&&n?(e.value(),n=!1):n=!0,i=!0}),60))},t.addEventListener("scroll",t.scorllbottom)},unbind:function(t){t.removeEventListener("scroll",t.scorllbottom),delete t.scorllbottom}}),t.directive("imgLazyload",{bind:function(t,e){t.url=t.src,t.src="",t.style.opacity=0,t.lazyImageObserver=new IntersectionObserver((function(e,n){if(e[0].intersectionRatio>0||e[1]&&e[1].intersectionRatio>0){var i=new Image;i.src=t.url,i.onload=function(){t.src=t.url,t.style.opacity=1}}})),t.lazyImageObserver.observe(t)},unbind:function(t){t.lazyImageObserver.unobserve(t),t.url=t.lazyImageObserver=null}}),t.directive("press",{bind:function(t,e){var n="";t.touchstart=function(t){""!=n&&clearTimeout(n),n=setTimeout(e.value,400)},t.touchmove=function(t){""!=n&&clearTimeout(n),n=""},t.touchend=function(t){return""!=n&&clearTimeout(n)},t.addEventListener("touchstart",t.touchstart),t.addEventListener("touchmove",t.touchmove),t.addEventListener("touchend",t.touchend)},unbind:function(t){t.removeEventListener("touchstart",t.touchstart),t.removeEventListener("touchmove",t.touchmove),t.removeEventListener("touchend",t.touchend),delete t.touchstart,delete t.touchmove,delete t.touchend}}),t.directive("focus",{inserted:function(t){t.focus()}}),t.directive("clickOutside",{bind:function(t,e){t.clickoutside=function(n){if(t.contains(n.target))return!1;e.expression&&e.value(n)},document.addEventListener("click",t.clickoutside)},unbind:function(t){document.removeEventListener("click",t.clickoutside),delete t.clickoutside}}),t.directive("preventBack",{bind:function(t,e){t.preventBack=e.value,"dfBreak"!=window.history.state&&window.history.pushState("dfBreak",null,null),window.addEventListener("popstate",t.preventBack)},unbind:function(t){window.removeEventListener("popstate",t.preventBack),delete t.preventBack}}),t.directive("nextInput",{bind:function(t,e){t.nextInput=function(e){var n=e.target.parentNode.parentNode.querySelectorAll("input[type=text],input[type=password]"),i=Array.from(n).findIndex((function(t){return t==e.target}));"undefined"!==typeof n[i+1]&&(t.onkeypress=function(t){var e=t.keyCode?t.keyCode:t.which?t.which:t.charCode;13==e&&n[i+1].focus()})},t.addEventListener("focus",t.nextInput)},unbind:function(t){t.removeEventListener("focus",t.nextInput),delete t.nextInput}}),t.directive("imgLoader",{bind:function(t,e){t.newImg=new Image,t.style.display="none",t.newImg.src=t.src,t.newImg.onload=function(e){return t.style.display="unset"}},unbind:function(t){t.newImg=null}})}}),Ee=je,Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading-block",style:{height:t.height}},[n("van-loading",{attrs:{size:"24px"}},[t._v(t._s(t.text))])],1)},Ie=[],Ne={name:"LoadingBlock",props:{height:{type:String,default:"140px"},text:{type:String,default:"努力加载中..."}}},Pe=Ne,Be=(n("5401"),Object(l["a"])(Pe,Te,Ie,!1,null,"9bbfd638",null)),De=Be.exports,He=i["a"].extend(De);function Ae(t,e,n){e.instance.visible=!0,t.appendChild(e.mask)}function qe(t,e,n){n.value||(t.removeChild(e.mask),e.instance&&e.instance.$destroy())}var Ye=function(){i["a"].directive("loading",{bind:function(t,e){var n=new He({el:document.createElement("div"),data:{}});t.instance=n,t.mask=n.$el,t.oldValue=e.value,t.isOver=!1,e.value&&i["a"].nextTick((function(){t.oldDisplay=t.style.display,t.style.display="none",t.rootDom="undefined"===typeof e.modifiers.child?t.parentElement:t,Ae(t.rootDom,t,e)}))},update:function(t,e){t.oldValue===e.value||t.isOver||(t.isOver=!0,qe(t.rootDom,t,e),t.style.display=t.oldDisplay)},unbind:function(t){t.instance&&t.instance.$destroy()}})},Fe=Ye,Re=function(t){var e=new t({methods:{on:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.$on.apply(this,[t].concat(n))},emit:function(t,e){this.$emit(t,e)},off:function(t,e){this.$off(t,e)}}});t.prototype.$bus=e},Xe=Re;i["a"].use(Ee),i["a"].use(Le),i["a"].use(Xe),i["a"].use(Fe),i["a"].prototype.axios=Jt.a,Jt.a.defaults.withCredentials=!0,i["a"].prototype.$store=Wt["a"],i["a"].prototype.baseImg="https://api.adicw.cn/uploads/",i["a"].prototype.squareImgSize="?param=300y300",i["a"].prototype.rectangleImgSize="?param=533y300",i["a"].prototype.dfImg="http://p1.music.126.net/Vxsf58sMyNjqnWVZa9Wbfw==/18991864347187831.jpg",i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(qt)},router:Vt}).$mount("#app")},"56f6":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"contain",staticClass:"botload-request",on:{"&scroll":function(e){return t.mainScroll(e)}}},[t._t("default"),t._t("contain",null,{curdata:t.curlist}),t.hasMore?t._e():n("div",{staticClass:"botload-request__none"},[t._v("-- 没有更多了 --")]),t.isLoading?n("LoadingBlock",{attrs:{height:"40px"}}):t._e()],2)},a=[],r=(n("fb6a"),n("a434"),n("a9e3"),n("d3b7"),n("2909"));function s(t,e){var n=!0;return function(){var i=arguments,a=this;n&&(n=!1,setTimeout((function(){t.apply(a,i),n=!0}),e))}}var c={name:"botloadrequest",props:{perpage:{type:Number,default:5},offset:{type:Boolean,default:!1},fromBottom:{type:Number,default:20},lastKey:{type:String,default:""},request:Function,resword:String},data:function(){return{tpage:1,curlist:[],isLoading:!1,hasMore:!0}},watch:{request:{immediate:!1,handler:function(){this.clearData(),this.init()}}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.request(this.perpage).then((function(e){var n;t.$emit("firstLoad",!0);var i=e.data[t.resword];if("undefined"===typeof i||0===i.length)return t.hasMore=!1;(n=t.curlist).push.apply(n,Object(r["a"])(i)),t.breakdata()}))},clearData:function(){this.tpage=1,this.curlist.splice(0),this.isLoading=!1,this.hasMore=!0},mainScroll:s((function(t){if(this.hasMore){var e=t.target,n=e.scrollHeight,i=e.clientHeight,a=e.scrollTop;n-i-a<this.fromBottom&&this.loadMore()}}),300),loadMore:function(){"undefined"!==typeof this.request&&(this.tpage++,this.requestHandler())},requestHandler:function(){if(!this.isLoading){var t;this.isLoading=!0;var e=this.offset,n=this.perpage,i=this.tpage;if(e){if(this.lastKey){var a=this.curlist[this.curlist.length-1][this.lastKey];t=[n,a]}else t=[n,i*n];this.offsetRequest(t)}else t=[i*n],this.dfRequest(t)}},dfRequest:function(t){var e=this;this.request.apply(this,Object(r["a"])(t)).then((function(t){var n=t.data[e.resword];if("undefined"===typeof n)e.hasMore=!1,e.$toast("没有更多了嗷~");else{var i,a=n.slice(-e.perpage);(i=e.curlist).push.apply(i,Object(r["a"])(a)),e.breakdata()}})).finally((function(t){return e.isLoading=!1}))},offsetRequest:function(t){var e=this;this.request.apply(this,Object(r["a"])(t)).then((function(t){var n,i=t.data[e.resword];"undefined"===typeof i?(e.hasMore=!1,e.$toast("没有更多了嗷~")):((n=e.curlist).push.apply(n,Object(r["a"])(i)),e.breakdata())})).finally((function(t){return e.isLoading=!1}))},breakdata:function(){this.$emit("breakdata",this.curlist)}}},o=c,u=(n("c8e6"),n("2877")),l=Object(u["a"])(o,i,a,!1,null,"1c79fee2",null);e["default"]=l.exports},"57ad":function(t,e,n){"use strict";var i=n("d0c9"),a=n.n(i);a.a},"59fb":function(t,e,n){},"5ba8":function(t,e,n){},"5bef":function(t,e,n){"use strict";var i=n("87f4"),a=n.n(i);a.a},"5cb9":function(t,e,n){},"616d":function(t,e,n){"use strict";var i=n("b9fb"),a=n.n(i);a.a},"623b":function(t,e,n){},"63cf":function(t,e,n){},"63e5":function(t,e,n){"use strict";var i=n("59fb"),a=n.n(i);a.a},6404:function(t,e,n){"use strict";var i=n("060b"),a=n.n(i);a.a},"64c8":function(t,e,n){},6628:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon-text"},[n("i",{class:t.info.icon}),n("span",[t._v(t._s(t.info.text))])])},a=[],r={name:"icontext",props:{info:Object}},s=r,c=(n("e98c"),n("2877")),o=Object(c["a"])(s,i,a,!1,null,"1657a2f1",null);e["default"]=o.exports},"669d":function(t,e,n){"use strict";n.r(e);n("99af"),n("d3b7");var i=function(){return Promise.all([n.e("chunk-d3a21be2"),n.e("chunk-d4e02a00")]).then(n.bind(null,"1c62"))},a=function(){return Promise.all([n.e("chunk-d3a21be2"),n.e("chunk-1930fefc")]).then(n.bind(null,"a476"))},r=function(){return n.e("chunk-cd875af4").then(n.bind(null,"3794"))},s=function(){return n.e("chunk-e2afb65a").then(n.bind(null,"6123"))},c=function(){return n.e("chunk-6f8ff070").then(n.bind(null,"0719"))},o=function(){return n.e("chunk-cbe006d8").then(n.bind(null,"1914"))},u=function(){return n.e("chunk-5a7dd6e7").then(n.bind(null,"18b4"))},l=function(){return n.e("chunk-2ba83204").then(n.bind(null,"0610"))},d=function(){return n.e("chunk-dfdb7a40").then(n.bind(null,"7fbd"))},f=function(){return Promise.all([n.e("chunk-d3a21be2"),n.e("chunk-2d531a24")]).then(n.bind(null,"849b"))},h=function(){return n.e("chunk-938b7338").then(n.bind(null,"dd19"))},p=function(){return n.e("chunk-85165ff2").then(n.bind(null,"2b50"))},m=function(){return Promise.all([n.e("chunk-4d932971"),n.e("chunk-37fce7df")]).then(n.bind(null,"cc04"))},v=function(){return n.e("chunk-6e74ae6b").then(n.bind(null,"1892"))},g=function(){return Promise.all([n.e("chunk-4d932971"),n.e("chunk-0eae6f74")]).then(n.bind(null,"7509"))},b=function(){return n.e("chunk-1e255a30").then(n.bind(null,"c3d8"))},y=function(){return n.e("chunk-d7e03cf8").then(n.bind(null,"e981"))},w=function(){return n.e("chunk-4dc27cee").then(n.bind(null,"ca47"))},k=function(){return n.e("chunk-2d4d15d9").then(n.bind(null,"1328"))},_=[{path:"songdetail",component:c,meta:{title:"歌单 - Starry"}},{path:"mvdetail",component:r,meta:{title:"Mv - Starry"}},{path:"videodetail",name:"VideoDetail",component:u,meta:{title:"视频 - Starry"}},{path:"userdetail",component:m,meta:{title:"用户 - Starry"},children:[{path:"usersonglist",component:v,meta:{title:"用户歌单 - Starry"}},{path:"userinfo",component:g,meta:{title:"我的资料 - Starry"}},{path:"trenddetail",component:b,meta:{title:"动态详情 - Starry"}}]},{path:"singerdetail",component:o,meta:{title:"歌手 - Starry"}},{path:"djdetail",component:s,meta:{title:"电台 - Starry"}}],x=[{path:"songltsquare",component:l,meta:{title:"歌单广场 - Starry"}},{path:"mvsquare",component:d,meta:{title:"Mv广场 - Starry"}},{path:"djsquare",component:f,meta:{title:"电台广场 - Starry"}}],C=[{path:"songcomment",component:p,meta:{title:"歌曲评论 - Starry"}}];e["default"]={path:"/home",component:i,meta:{title:"首页 - Starry"},children:[].concat(_,x,C,[{path:"search",component:a,meta:{title:"混合搜索 - Starry"}},{path:"usernews",component:y,meta:{title:"用户消息 - Starry"}},{path:"userfriend",component:k,meta:{title:"用户好友 - Starry"}},{path:"userchatroom",component:w,meta:{title:"消息室 - Starry"}},{path:"singeralbum",component:h,meta:{title:"专辑 - Starry"}}])}},"682d":function(t,e,n){},"69b6":function(t,e,n){"use strict";var i=n("548c"),a=n.n(i);a.a},"6ad1":function(t,e,n){},"6d1b":function(t,e,n){t.exports=n.p+"img/tx.5d49d5d6.jpg"},"778c":function(t,e,n){"use strict";var i=n("9b5a"),a=n.n(i);a.a},"790c":function(t,e,n){t.exports=n.p+"img/m-music-banner.b2a5f8e2.jpg"},"7c55":function(t,e,n){"use strict";var i=n("5ba8"),a=n.n(i);a.a},"80da":function(t,e,n){},"84e8":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empty-text-box",style:{color:t.color}},[t._v(t._s(t.text))])},a=[],r={name:"EmptyTextBox",props:{text:String,color:{type:String,default:"#666"}}},s=r,c=(n("69b6"),n("2877")),o=Object(c["a"])(s,i,a,!1,null,"bde9e572",null);e["default"]=o.exports},"87f4":function(t,e,n){},"8b99":function(t,e,n){},"8d84":function(t,e,n){},9175:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img-loader"},[t.loadflag?n("img",{staticClass:"fadeIn",attrs:{src:t.src,alt:""}}):t._e(),t.loadflag?t._e():n("div",{staticClass:"_cover"})])},a=[],r={name:"imgloader",props:{src:String},data:function(){return{loadflag:!1}},mounted:function(){var t=this,e=new Image;e.src=this.src,e.onload=function(e){return t.loadflag=!0}}},s=r,c=(n("f9bb"),n("2877")),o=Object(c["a"])(s,i,a,!1,null,"16809112",null);e["default"]=o.exports},"919c":function(t,e,n){},"9b5a":function(t,e,n){},aa01:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"contain",staticClass:"botload-audiolist"},[t._t("default"),t.isList?n("div",{staticClass:"botload-audiolist-items"},t._l(t.curlist,(function(e,i){return n("AudioList",{key:i,attrs:{detail:e,index:i+1},nativeOn:{click:function(n){return t.changeMusic(e,i)}}})})),1):t._e(),t.isItem?n("div",{staticClass:"botload-audiolist-items"},t._l(t.curlist,(function(e,i){return n("AudioItem",{key:i,attrs:{detail:e,listid:t.listid},nativeOn:{click:function(n){return t.changeMusic(e,i)}}})})),1):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.wait,expression:"wait"}],staticClass:"_tips"},[t._v("加载中...")])],2)},a=[],r=(n("c740"),n("4160"),n("d81d"),n("fb6a"),n("a9e3"),n("d3b7"),n("25f0"),n("3ca3"),n("159b"),n("ddb0"),n("2909")),s=n("d73f"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"audio-list"},[n("div",{staticClass:"_bg"}),n("label",[n("a",{directives:[{name:"show",rawName:"v-show",value:!t.activeMusic,expression:"!activeMusic"}]},[t._v(t._s(t.index))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.activeMusic,expression:"activeMusic"}],staticClass:"van-icon van-icon-fire-o"})]),n("div",{staticClass:"_info"},[n("p",{staticClass:"text-truncate"},[t._v(" "+t._s(t.detail.name)+" "),t.songNameRemark?n("a",[t._v("("+t._s(t.songNameRemark)+")")]):t._e()]),n("a",{staticClass:"text-truncate"},[t.isUseful?t._e():n("span",[t._v("VIP")]),t._v(" "+t._s(t.fullSinger)+" ")])]),n("span",{staticClass:"van-icon van-icon-tv-o",on:{click:function(e){return e.stopPropagation(),t.toMv(e)}}}),n("span",{staticClass:"van-icon van-icon-ellipsis",on:{click:function(e){return e.stopPropagation(),t.openPopup(e)}}})])},o=[],u=(n("a15b"),n("b0c0"),{name:"audiolist",props:{index:Number,detail:Object,toMore:{type:Function,default:function(){}}},computed:{songNameRemark:function(){return this.detail.alia[0]},fullSinger:function(){return this.detail.ar.map((function(t){return t.name})).join("/")+" - "+this.detail.al.name},activeMusic:function(){var t=this.$store.getters.curMusic;return"undefined"!=typeof t&&t.name===this.detail.name},isUseful:function(){return null!=this.detail.url},popupInfo:function(){return this.detail}},methods:{toMv:function(){if(0===this.detail.mv)return this.$toast("此音乐莫有mv");this.toMainPage("/home/mvdetail",this.detail.mv)},openPopup:function(){this.$bus.emit("openSongPopup",this.popupInfo)}}}),l=u,d=(n("d665"),n("2877")),f=Object(d["a"])(l,c,o,!1,null,"39e1f176",null),h=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"audio-item text-truncate",class:{_active:t.activeMusic}},[t.activeMusic?n("van-icon",{attrs:{name:"volume-o"}}):t._e(),n("span",[t._v(t._s(t.detail.name))]),n("a",[t._v("- "+t._s(t.fullSinger))])],1)},m=[],v={name:"audioitem",props:{detail:Object,listid:Number},computed:{fullSinger:function(){return null==this.detail?"":this.detail.ar.map((function(t){return t.name})).join("/")},sameMusic:function(){if(null==this.detail)return"";var t=this.$store.getters.curMusic;return"undefined"!=typeof t&&t.id===this.detail.id},sameList:function(){return this.listid===this.$store.state.music.curlistid},activeMusic:function(){return this.sameMusic&&this.sameList}}},g=v,b=(n("3d7d"),Object(d["a"])(g,p,m,!1,null,"3f1747ca",null)),y=b.exports;function w(t,e){var n=!0;return function(){var i=arguments,a=this;n&&(n=!1,setTimeout((function(){t.apply(a,i),n=!0}),e))}}var k={name:"botloadaudiolist",components:{AudioList:h,AudioItem:y},props:{perpage:{type:Number,default:5},listid:{type:Number,default:0},data:Array,type:{type:String,default:"list"},fromBottom:{type:Number,default:20},target:{type:String,default:""},isbind:{type:Boolean,default:!0}},data:function(){return{flag:!0,tpage:1,curlist:[],wait:!1,isLoding:!1}},computed:{hasMore:function(){return this.tpage*this.perpage<this.data.length},isList:function(){return"list"===this.type},isItem:function(){return"item"===this.type},bindDom:function(){return""===this.target?this.$refs.contain:document.querySelector(this.target)}},watch:{isbind:function(t){t?this.addEvent():this.removeEvent()}},mounted:function(){this.addItem(),this.addEvent()},beforeDestroy:function(){this.removeEvent()},methods:{addEvent:function(){this.isbind&&this.bindDom.addEventListener("scroll",this.mainScroll)},removeEvent:function(){this.bindDom.removeEventListener("scroll",this.mainScroll)},addItem:function(){var t=[];this.data.length<=this.perpage?(t=this.data.map((function(t){return t.id})).toString(),this.flag=!1):t=this.data.slice(this.curlist.length,this.perpage*this.tpage).map((function(t){return t.id})).toString(),this.mainRequest(t)},mainRequest:function(t){var e=this;this.isLoding=!0,Promise.all([Object(s["c"])(t),Object(s["e"])(t)]).then((function(t){var n,i=t[0].data.songs,a=t[1].data.data;a.forEach((function(t){var e=i.findIndex((function(e){return t.id===e.id}));i[e].url=t.url})),(n=e.curlist).push.apply(n,Object(r["a"])(i)),e.wait=!1,e.isLoding=!1}))},mainScroll:w((function(t){if(this.hasMore&&!this.isLoding){var e=t.target,n=e.scrollHeight,i=e.clientHeight,a=e.scrollTop;n-i-a<this.fromBottom&&this.loadMore()}}),30),loadMore:function(){this.tpage++,this.addItem()},changeMusic:function(t,e){if(null==t.url)return this.$toast("莫得资源~");var n={list:this.data,id:this.listid,index:e};this.$store.dispatch("changeCurMusic",n)}}},_=k,x=(n("e06f"),Object(d["a"])(_,i,a,!1,null,"46fdc741",null));e["default"]=x.exports},acdc:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-pull-refresh",{staticClass:"ad-pull-refresh",attrs:{"head-height":40,disabled:!t.disabled},on:{refresh:t.refresh},scopedSlots:t._u([{key:"pulling",fn:function(e){return[n("div",{staticClass:"load1 load1-df",style:{transform:"scale("+e.distance/40+")"}},t._l(t.anm.classlist,(function(e,i){return n("div",{key:i,class:e,style:{background:t.color}})})),0)]}},{key:"loosing",fn:function(){return[n("div",{staticClass:"load1"},t._l(t.anm.classlist,(function(e,i){return n("div",{key:i,class:e,style:{background:t.color}})})),0)]},proxy:!0},{key:"loading",fn:function(){return[n("div",{staticClass:"load1"},t._l(t.anm.classlist,(function(e,i){return n("div",{key:i,staticClass:"anm",class:e,style:{background:t.color}})})),0)]},proxy:!0}]),model:{value:t.reloadflag,callback:function(e){t.reloadflag=e},expression:"reloadflag"}},[t._t("default")],2)},a=[],r={name:"pullrefresh",props:{disabled:{type:Boolean,default:!0},reloadFn:Function,color:{type:String,default:"silver"}},data:function(){return{reloadflag:!0,anm:{classlist:["rect1","rect2","rect3","rect4","rect5"]}}},methods:{refresh:function(){var t=this;setTimeout((function(){t.reloadFn().then((function(e){t.reloadflag=!1,t.$toast("刷新成功")}))}),2e3)}}},s=r,c=(n("f18c"),n("2877")),o=Object(c["a"])(s,i,a,!1,null,"5b372fb8",null);e["default"]=o.exports},b826:function(t,e,n){var i={"./BotLoad.vue":"20a5","./BotLoadAudioList.vue":"aa01","./BotLoadRequest.vue":"56f6","./BreakHeader.vue":"d15f","./EmptyBox.vue":"cbbb","./EmptyTextBox.vue":"84e8","./IconText.vue":"6628","./ImgLoader.vue":"9175","./LoadingBlock.vue":"2e30","./PullRefresh.vue":"acdc","./Scroll.vue":"1afd"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id="b826"},b93e:function(t,e,n){"use strict";var i=n("f94e"),a=n.n(i);a.a},b9fb:function(t,e,n){},c0b1:function(t,e,n){},c243:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"radio-items"},[t._t("default")],2)},a=[],r=(n("a9e3"),{name:"radioitems",props:{value:{type:Number,default:0}},methods:{handler:function(t){this.$emit("input",t)}}}),s=r,c=(n("63e5"),n("2877")),o=Object(c["a"])(s,i,a,!1,null,"086b8f7e",null);e["a"]=o.exports},c24f:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return r})),n.d(e,"j",(function(){return s})),n.d(e,"q",(function(){return c})),n.d(e,"o",(function(){return o})),n.d(e,"p",(function(){return u})),n.d(e,"k",(function(){return l})),n.d(e,"m",(function(){return d})),n.d(e,"l",(function(){return f})),n.d(e,"i",(function(){return h})),n.d(e,"n",(function(){return p})),n.d(e,"f",(function(){return m})),n.d(e,"h",(function(){return v})),n.d(e,"b",(function(){return g})),n.d(e,"g",(function(){return b})),n.d(e,"a",(function(){return y})),n.d(e,"c",(function(){return w}));n("99af");var i=n("f344");n("466f");function a(t){return Object(i["b"])("login/cellphone",t)}function r(){return Object(i["a"])("logout")}function s(t){return Object(i["a"])("user/detail?uid=".concat(t))}function c(t){return Object(i["b"])("user/update",t)}function o(t){return Object(i["a"])("user/playlist?uid=".concat(t))}function u(){return Object(i["a"])("user/subcount")}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Object(i["a"])("user/event?uid=".concat(t,"&limit=").concat(e,"&lasttime=").concat(n))}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(i["a"])("user/follows?uid=".concat(t,"&limit=").concat(e,"&offset =").concat(n))}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Object(i["a"])("user/followeds?uid=".concat(t,"&limit=").concat(e,"&lasttime=").concat(n))}function h(){return Object(i["a"])("artist/sublist")}function p(t){return Object(i["a"])("likelist?uid=".concat(t))}function m(){return Object(i["a"])("personal_fm")}function v(t){return Object(i["b"])("like",t)}function g(t){return Object(i["a"])("comment/event?threadId=".concat(t))}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(i["a"])("msg/private?limit=".concat(t,"&offset=").concat(e))}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(i["a"])("msg/comments?uid=".concat(t,"&limit=").concat(e,"&before=").concat(n))}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(i["a"])("msg/forwards?limit=".concat(t,"&offset=").concat(e))}},c420:function(t,e,n){"use strict";var i=n("3c1b"),a=n.n(i);a.a},c6ea:function(t,e,n){},c8bc:function(t,e,n){"use strict";n.r(e);n("d3b7");var i=function(){return n.e("chunk-1c57d3cb").then(n.bind(null,"7101"))};e["default"]={path:"/login",component:i,meta:{title:"登录 - Starry"}}},c8e6:function(t,e,n){"use strict";var i=n("8b99"),a=n.n(i);a.a},c9c5:function(t,e,n){"use strict";var i=n("d93f"),a=n.n(i);a.a},cbbb:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-empty",{staticClass:"empty-box",attrs:{image:"https://css.adicw.cn/m-empty.png",description:t.text}})},a=[],r={name:"emptybox",props:{text:{type:String,default:"没有东西嗷"}}},s=r,c=n("2877"),o=Object(c["a"])(s,i,a,!1,null,"1d457894",null);e["default"]=o.exports},ce3f:function(t,e,n){},d0c9:function(t,e,n){},d15f:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"break-header",class:{fixed:t.fixed},style:{height:t.height,color:t.color,background:t.background}},[n("span",{staticClass:"van-icon van-icon-arrow-left",on:{click:function(e){return t.$router.go(-1)}}}),n("p",[t._v(t._s(t.title))]),n("span"),t._t("default")],2)},a=[],r={name:"breakheader",props:{title:String,height:{type:String,default:"48px"},fixed:{type:Boolean,default:!1},color:{type:String,default:"#fff"},background:{type:String,default:""}}},s=r,c=(n("b93e"),n("2877")),o=Object(c["a"])(s,i,a,!1,null,"72cb98c2",null);e["default"]=o.exports},d302:function(t,e,n){"use strict";var i=n("ecb8"),a=n.n(i);a.a},d322:function(t,e,n){"use strict";var i=n("6ad1"),a=n.n(i);a.a},d665:function(t,e,n){"use strict";var i=n("8d84"),a=n.n(i);a.a},d73f:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"f",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return u}));n("99af");var i=n("f344");function a(){return Object(i["a"])("personalized/newsong")}function r(t){return Object(i["a"])("playlist/detail?id=".concat(t))}function s(t){return Object(i["a"])("song/detail?ids=".concat(t),!1)}function c(t){return Object(i["a"])("song/url?id=".concat(t),!1)}function o(t){return Object(i["a"])("lyric?id=".concat(t),!1)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(i["a"])("comment/music?id=".concat(t,"&limit=").concat(e,"&offset=").concat(n))}},d93f:function(t,e,n){},da7f:function(t,e,n){"use strict";var i=n("80da"),a=n.n(i);a.a},dda4:function(t,e,n){"use strict";var i=n("c6ea"),a=n.n(i);a.a},df26:function(t,e,n){"use strict";var i=n("623b"),a=n.n(i);a.a},e06f:function(t,e,n){"use strict";var i=n("682d"),a=n.n(i);a.a},e98c:function(t,e,n){"use strict";var i=n("c0b1"),a=n.n(i);a.a},ec8f:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"singer-radio-item",on:{click:t.handler}},[t._t("default")],2)},a=[],r=(n("b0c0"),n("a9e3"),{name:"singerradioitem",props:{name:Number},data:function(){return{}},computed:{isSelect:function(){}},mounted:function(){},methods:{handler:function(){this.$parent.handler(this.name)}}}),s=r,c=(n("df26"),n("2877")),o=Object(c["a"])(s,i,a,!1,null,"1be7d783",null);e["a"]=o.exports},ecb8:function(t,e,n){},f18c:function(t,e,n){"use strict";var i=n("27c8"),a=n.n(i);a.a},f344:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d}));n("d3b7");var i=n("bc3a"),a=n.n(i),r=n("d399"),s=!1,c=s?"/api":"https://ounce.love/",o=6e3;a.a.defaults.withCredentials=!0;var u=a.a.create({baseURL:c,timeout:o});function l(t){return u(t)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.post(t,e)}u.interceptors.response.use((function(t){return t}),(function(t){var e=t.response,n=e.status,i=e.data;switch(n){case 404:Object(r["a"])(i.message||"!!!");break}return Promise.reject(t)}))},f7b8:function(t,e,n){},f94e:function(t,e,n){},f9bb:function(t,e,n){"use strict";var i=n("63cf"),a=n.n(i);a.a}});